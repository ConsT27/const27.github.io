<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>javaå®‰å…¨ä¸­å‡ ä¸ªé‡è¦æœºåˆ¶ | ConsT27&#39;s Blog</title>
  <meta name="keywords" content=" javaå¼€å‘ä¸å®‰å…¨ ">
  <meta name="description" content="javaå®‰å…¨ä¸­å‡ ä¸ªé‡è¦æœºåˆ¶ | ConsT27&#39;s Blog">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="å‚è€ƒ: https:&#x2F;&#x2F;www.leavesongs.com&#x2F;PENETRATION&#x2F;fastcgi-and-php-fpm.html ç¦»åˆ«æ­Œ Fastcgiè¦è¯´PHP-FPMï¼Œé¦–å…ˆå°±è¦è¯´ä¸€ä¸‹Fastcgiåè®®. Fastcgiå…¶å®æ˜¯ä¸€ä¸ªå’ŒHTTPæœ¬è´¨ä¸€æ ·çš„é€šä¿¡åè®®ã€‚HTTPç”¨äºæµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¸­é—´ä»¶é€šä¿¡,Fastcgiç”¨äºæœåŠ¡å™¨ä¸­é—´ä»¶ä¸æŸä¸ªè¯­è¨€åç«¯é€šä¿¡ã€‚Fastcgiåè®®ç”±å¤šä¸ªrecordç»„æˆï¼Œr">
<meta property="og:type" content="article">
<meta property="og:title" content="FastCgiåè®®&amp;PHP-FPMæœªæˆæƒå¯¼è‡´RCE">
<meta property="og:url" content="http://yoursite.com/2021/02/19/FastCgi%E5%8D%8F%E8%AE%AE&PHP-FPM%E6%9C%AA%E6%8E%88%E6%9D%83%E5%AF%BC%E8%87%B4RCE/index.html">
<meta property="og:site_name" content="ConsT27&#39;s Blog">
<meta property="og:description" content="å‚è€ƒ: https:&#x2F;&#x2F;www.leavesongs.com&#x2F;PENETRATION&#x2F;fastcgi-and-php-fpm.html ç¦»åˆ«æ­Œ Fastcgiè¦è¯´PHP-FPMï¼Œé¦–å…ˆå°±è¦è¯´ä¸€ä¸‹Fastcgiåè®®. Fastcgiå…¶å®æ˜¯ä¸€ä¸ªå’ŒHTTPæœ¬è´¨ä¸€æ ·çš„é€šä¿¡åè®®ã€‚HTTPç”¨äºæµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¸­é—´ä»¶é€šä¿¡,Fastcgiç”¨äºæœåŠ¡å™¨ä¸­é—´ä»¶ä¸æŸä¸ªè¯­è¨€åç«¯é€šä¿¡ã€‚Fastcgiåè®®ç”±å¤šä¸ªrecordç»„æˆï¼Œr">
<meta property="og:locale">
<meta property="og:image" content="https://www.leavesongs.com/media/attachment/2017/04/25/e29518b1-3574-426f-b75f-8cabbb89a15a.9efc537226ce.jpg">
<meta property="og:image" content="https://const27blog.oss-cn-beijing.aliyuncs.com/img/QQ%E6%88%AA%E5%9B%BE20210219142802.png">
<meta property="og:image" content="http://www.const27.com/wp-content/uploads/2020/06/%E5%9B%BE%E7%89%87-67.png">
<meta property="og:image" content="https://const27blog.oss-cn-beijing.aliyuncs.com/img/QQ%E6%88%AA%E5%9B%BE20210219142817.png">
<meta property="og:image" content="https://const27blog.oss-cn-beijing.aliyuncs.com/img/QQ%E6%88%AA%E5%9B%BE20210219142836.png">
<meta property="article:published_time" content="2021-02-19T09:22:02.406Z">
<meta property="article:modified_time" content="2021-02-19T08:50:05.205Z">
<meta property="article:author" content="ConsT27">
<meta property="article:tag" content="phpå¼€å‘ä¸å®‰å…¨">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.leavesongs.com/media/attachment/2017/04/25/e29518b1-3574-426f-b75f-8cabbb89a15a.9efc537226ce.jpg">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/atom-light.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 5.3.0"><link rel="alternate" href="/atom.xml" title="ConsT27's Blog" type="application/atom+xml">
</head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/"
   class="avatar_target">
    <img class="avatar"
         src="/img/avatar.jpg"/>
</a>
<div class="author">
    <span>ConsT27</span>
</div>

<div class="icon">
    
        
            <a title="rss"
               href="/atom.xml"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-rss"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="github"
               href="https://github.com/yelog"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-github"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="facebook"
               href="https://www.facebook.com/faker.tops"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-facebook"></use>
                    </svg>
                
            </a>
        
    
        
    
        
    
        
            <a title="instagram"
               href="https://www.facebook.com/faker.tops"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-instagram"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="reddit"
               href="https://www.reddit.com/user/yelog/"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-reddit"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="weibo"
               href="http://weibo.com/u/2307534817"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-weibo"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="jianshu"
               href="https://www.jianshu.com/u/ff56736de7cf"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-jianshu"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="zhihu"
               href="https://www.zhihu.com/people/jaytp/activities"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-zhihu"></use>
                    </svg>
                
            </a>
        
    
        
    
        
            <a title="oschina"
               href="https://my.oschina.net/yelog"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-oschina"></use>
                    </svg>
                
            </a>
        
    
        
    
        
            <a title="email"
               href="mailto:jaytp@qq.com"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-email"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="qq"
               href="http://wpa.qq.com/msgrd?v=3&uin=872336115&site=qq&menu=yes"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-qq"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="kugou"
               href="https://www.kugou.com/"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-kugou"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="neteasemusic"
               href="https://music.163.com/#/user/home?id=88151013"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-neteasemusic"></use>
                    </svg>
                
            </a>
        
    
</div>




<ul>
    <li>
        <div class="all active" data-rel="All">All
            
                <small>(28)</small>
            
        </div>
    </li>
    
</ul>
<div class="left-bottom">
    <div class="menus">
        
            
            
            
    </div>
    <div>
        
            <a class="about  hasFriend  site_url"
               
               href="/about">About</a>
        
        <a style="width: 50%"
                
                                           class="friends">Friends</a>
        
    </div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="28">

<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        Links
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://yelog.org/">å¶è½é˜</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="æœç´¢ å¿«æ·é”® i"></i>
            <div class="right-title">All</div>
            <i class="iconfont icon-file-tree" data-title="åˆ‡æ¢åˆ°å¤§çº²è§†å›¾ å¿«æ·é”® w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="è¿”å›"></i>
            <input id="local-search-input" />
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="å¤§å°å†™æ•æ„Ÿ"></i>
            <i class="iconfont icon-tag" data-title="æ ‡ç­¾"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">å¤§çº²</div>
            <i class="iconfont icon-list" data-title="åˆ‡æ¢åˆ°æ–‡ç« åˆ—è¡¨"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>é’“é±¼</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>å…æ€</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>å†…ç½‘æ¸—é€</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ææƒ</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>æ‚ä¸ƒæ‚å…«çš„å®‰å…¨é—®é¢˜</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ä¸­é—´ä»¶å®‰å…¨</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>javaå¼€å‘ä¸å®‰å…¨</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>phpå¼€å‘ä¸å®‰å…¨</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>windowsç›¸å…³</a>
            </li>
        
    </div>

</div>

    
    <nav id="title-list-nav">
        
        <a  class="All "
           href="/2021/02/19/PHP%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/"
           data-tag="phpå¼€å‘ä¸å®‰å…¨"
           data-author="" >
            <span class="post-title" title="phpååºåˆ—åŒ–">phpååºåˆ—åŒ–</span>
            <span class="post-date" title="2021-02-19 17:22:02">2021/02/19</span>
        </a>
        
        <a  class="All "
           href="/2021/02/19/imagemagick%E6%BC%8F%E6%B4%9E%E4%BB%BB%E6%84%8F%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%EF%BC%88cve-2016-3714%EF%BC%89/"
           data-tag="phpå¼€å‘ä¸å®‰å…¨"
           data-author="" >
            <span class="post-title" title="imagemagickæ¼æ´ä»»æ„å‘½ä»¤æ‰§è¡Œï¼ˆcve-2016-3714ï¼‰">imagemagickæ¼æ´ä»»æ„å‘½ä»¤æ‰§è¡Œï¼ˆcve-2016-3714ï¼‰</span>
            <span class="post-date" title="2021-02-19 17:22:02">2021/02/19</span>
        </a>
        
        <a  class="All "
           href="/2021/02/19/FastCgi%E5%8D%8F%E8%AE%AE&PHP-FPM%E6%9C%AA%E6%8E%88%E6%9D%83%E5%AF%BC%E8%87%B4RCE/"
           data-tag="phpå¼€å‘ä¸å®‰å…¨"
           data-author="" >
            <span class="post-title" title="FastCgiåè®®&amp;PHP-FPMæœªæˆæƒå¯¼è‡´RCE">FastCgiåè®®&amp;PHP-FPMæœªæˆæƒå¯¼è‡´RCE</span>
            <span class="post-date" title="2021-02-19 17:22:02">2021/02/19</span>
        </a>
        
        <a  class="All "
           href="/2021/02/19/DisableFunctions%E7%BB%95%E8%BF%87/"
           data-tag="phpå¼€å‘ä¸å®‰å…¨"
           data-author="" >
            <span class="post-title" title="PHP disablefunctionsç»•è¿‡">PHP disablefunctionsç»•è¿‡</span>
            <span class="post-date" title="2021-02-19 17:22:02">2021/02/19</span>
        </a>
        
        <a  class="All "
           href="/2021/02/19/Defense%20Evasion%20%E6%94%B6%E9%9B%86/"
           data-tag="å…æ€"
           data-author="" >
            <span class="post-title" title="DefenseEvasionæ”¶é›†">DefenseEvasionæ”¶é›†</span>
            <span class="post-date" title="2021-02-19 17:21:55">2021/02/19</span>
        </a>
        
        <a  class="All "
           href="/2021/02/19/C++%E7%BB%93%E5%90%88%E5%86%85%E8%81%94%E6%B1%87%E7%BC%96%E7%BC%96%E5%86%99%E4%B8%80%E4%B8%AA%E5%8A%A0%E5%A3%B3%E7%A8%8B%E5%BA%8F/"
           data-tag="å…æ€"
           data-author="" >
            <span class="post-title" title="C++ç»“åˆå†…è”æ±‡ç¼–ç¼–å†™ä¸€ä¸ªåŠ å£³ç¨‹åº">C++ç»“åˆå†…è”æ±‡ç¼–ç¼–å†™ä¸€ä¸ªåŠ å£³ç¨‹åº</span>
            <span class="post-date" title="2021-02-19 17:21:55">2021/02/19</span>
        </a>
        
        <a  class="All "
           href="/2021/02/19/%E6%A8%AA%E5%90%91%E7%A7%BB%E5%8A%A8%E4%B8%8E%E5%9F%9F%E6%8E%A7%E6%9D%83%E9%99%90%E7%BB%B4%E6%8C%81%E6%96%B9%E6%B3%95%E6%80%BB%E6%B1%87/"
           data-tag="å†…ç½‘æ¸—é€"
           data-author="" >
            <span class="post-title" title="æ¨ªå‘ç§»åŠ¨ä¸åŸŸæ§æƒé™ç»´æŒæ–¹æ³•æ€»æ±‡">æ¨ªå‘ç§»åŠ¨ä¸åŸŸæ§æƒé™ç»´æŒæ–¹æ³•æ€»æ±‡</span>
            <span class="post-date" title="2021-02-19 17:21:53">2021/02/19</span>
        </a>
        
        <a  class="All "
           href="/2021/02/19/windows%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86%E5%91%BD%E4%BB%A4%E6%80%BB%E6%B1%87/"
           data-tag="å†…ç½‘æ¸—é€"
           data-author="" >
            <span class="post-title" title="Windowså†…ç½‘æ¸—é€ä¿¡æ¯æœé›†å‘½ä»¤æ€»æ±‡">Windowså†…ç½‘æ¸—é€ä¿¡æ¯æœé›†å‘½ä»¤æ€»æ±‡</span>
            <span class="post-date" title="2021-02-19 17:21:53">2021/02/19</span>
        </a>
        
        <a  class="All "
           href="/2021/02/19/Windows%E5%86%85%E7%BD%91%E5%9F%BA%E7%A1%80%E6%A6%82%E8%A7%88/"
           data-tag="å†…ç½‘æ¸—é€"
           data-author="" >
            <span class="post-title" title="Windowså†…ç½‘åŸºç¡€æ¦‚è§ˆ">Windowså†…ç½‘åŸºç¡€æ¦‚è§ˆ</span>
            <span class="post-date" title="2021-02-19 17:21:53">2021/02/19</span>
        </a>
        
        <a  class="All "
           href="/2021/02/19/ARP%E6%AC%BA%E9%AA%97&DNS%E6%AC%BA%E9%AA%97&mac%E6%B3%9B%E6%B4%AA%E6%94%BB%E5%87%BB/"
           data-tag="å†…ç½‘æ¸—é€"
           data-author="" >
            <span class="post-title" title="ARPæ¬ºéª—&amp;DNSæ¬ºéª—&amp;macæ³›æ´ªæ”»å‡»">ARPæ¬ºéª—&amp;DNSæ¬ºéª—&amp;macæ³›æ´ªæ”»å‡»</span>
            <span class="post-date" title="2021-02-19 17:21:53">2021/02/19</span>
        </a>
        
        <a  class="All "
           href="/2021/02/19/Windows%E6%8F%90%E6%9D%83/"
           data-tag="ææƒ"
           data-author="" >
            <span class="post-title" title="Windowsææƒæ–¹æ³•æ±‡æ€»">Windowsææƒæ–¹æ³•æ±‡æ€»</span>
            <span class="post-date" title="2021-02-19 17:21:51">2021/02/19</span>
        </a>
        
        <a  class="All "
           href="/2021/02/19/Linux%20sudo%E6%8F%90%E6%9D%83%E4%B8%8Esuid%E6%8F%90%E6%9D%83/"
           data-tag="ææƒ"
           data-author="" >
            <span class="post-title" title="Linux sudoä¸suidææƒ">Linux sudoä¸suidææƒ</span>
            <span class="post-date" title="2021-02-19 17:21:51">2021/02/19</span>
        </a>
        
        <a  class="All "
           href="/2021/02/19/Linux%20rbash%E7%BB%95%E8%BF%87/"
           data-tag="ææƒ"
           data-author="" >
            <span class="post-title" title="Linux rbashç»•è¿‡">Linux rbashç»•è¿‡</span>
            <span class="post-date" title="2021-02-19 17:21:51">2021/02/19</span>
        </a>
        
        <a  class="All "
           href="/2021/02/19/redis%E6%9C%AA%E6%8E%88%E6%9D%83/"
           data-tag="æ‚ä¸ƒæ‚å…«çš„å®‰å…¨é—®é¢˜"
           data-author="" >
            <span class="post-title" title="redisæœªæˆæƒ">redisæœªæˆæƒ</span>
            <span class="post-date" title="2021-02-19 17:21:48">2021/02/19</span>
        </a>
        
        <a  class="All "
           href="/2021/02/19/Padding%20oracle%20Attack%E4%B8%8ECBC%E7%BF%BB%E8%BD%AC%E5%AD%97%E8%8A%82%E6%94%BB%E5%87%BB/"
           data-tag="æ‚ä¸ƒæ‚å…«çš„å®‰å…¨é—®é¢˜"
           data-author="" >
            <span class="post-title" title="Padding oracle Attackä¸CBCç¿»è½¬å­—èŠ‚æ”»å‡».">Padding oracle Attackä¸CBCç¿»è½¬å­—èŠ‚æ”»å‡».</span>
            <span class="post-date" title="2021-02-19 17:21:48">2021/02/19</span>
        </a>
        
        <a  class="All "
           href="/2021/02/19/md5%E5%BC%BA%E7%AD%89%E4%BA%8E%E7%BB%95%E8%BF%87%E5%AD%97%E7%AC%A6%E4%B8%B2/"
           data-tag="æ‚ä¸ƒæ‚å…«çš„å®‰å…¨é—®é¢˜"
           data-author="" >
            <span class="post-title" title="md5å¼ºç­‰äºç»•è¿‡å­—ç¬¦ä¸²">md5å¼ºç­‰äºç»•è¿‡å­—ç¬¦ä¸²</span>
            <span class="post-date" title="2021-02-19 17:21:48">2021/02/19</span>
        </a>
        
        <a  class="All "
           href="/2021/02/19/Hash%E9%95%BF%E5%BA%A6%E6%89%A9%E5%B1%95%E6%94%BB%E5%87%BB/"
           data-tag="æ‚ä¸ƒæ‚å…«çš„å®‰å…¨é—®é¢˜"
           data-author="" >
            <span class="post-title" title="Hashé•¿åº¦æ‰©å±•æ”»å‡»">Hashé•¿åº¦æ‰©å±•æ”»å‡»</span>
            <span class="post-date" title="2021-02-19 17:21:48">2021/02/19</span>
        </a>
        
        <a  class="All "
           href="/2021/02/19/Weblogic%E6%BC%8F%E6%B4%9E/"
           data-tag="ä¸­é—´ä»¶å®‰å…¨"
           data-author="" >
            <span class="post-title" title="Weblogicæ¼æ´">Weblogicæ¼æ´</span>
            <span class="post-date" title="2021-02-19 17:21:43">2021/02/19</span>
        </a>
        
        <a  class="All "
           href="/2021/02/19/Nginx%E6%BC%8F%E6%B4%9E/"
           data-tag="ä¸­é—´ä»¶å®‰å…¨"
           data-author="" >
            <span class="post-title" title="Nginxæ¼æ´">Nginxæ¼æ´</span>
            <span class="post-date" title="2021-02-19 17:21:43">2021/02/19</span>
        </a>
        
        <a  class="All "
           href="/2021/02/19/iis%E6%BC%8F%E6%B4%9E/"
           data-tag="ä¸­é—´ä»¶å®‰å…¨"
           data-author="" >
            <span class="post-title" title="iisæ¼æ´">iisæ¼æ´</span>
            <span class="post-date" title="2021-02-19 17:21:43">2021/02/19</span>
        </a>
        
        <a  class="All "
           href="/2021/02/19/Apache%20httpd%E6%BC%8F%E6%B4%9E/"
           data-tag="ä¸­é—´ä»¶å®‰å…¨"
           data-author="" >
            <span class="post-title" title="ApacheHttpdæ¼æ´">ApacheHttpdæ¼æ´</span>
            <span class="post-date" title="2021-02-19 17:21:43">2021/02/19</span>
        </a>
        
        <a  class="All "
           href="/2021/02/19/%E7%94%A8%E8%BF%87%E7%9A%84API%E8%AE%B0%E5%BD%95/"
           data-tag="windowsç›¸å…³"
           data-author="" >
            <span class="post-title" title="è®°å½•ä¸€ä¸‹ç”¨è¿‡çš„c++ windows api">è®°å½•ä¸€ä¸‹ç”¨è¿‡çš„c++ windows api</span>
            <span class="post-date" title="2021-02-19 16:51:27">2021/02/19</span>
        </a>
        
        <a  class="All "
           href="/2021/02/19/%E5%90%AF%E7%94%A8SeDebugPrivilege/"
           data-tag="windowsç›¸å…³"
           data-author="" >
            <span class="post-title" title="windowså¯ç”¨SeDebugPrivilege">windowså¯ç”¨SeDebugPrivilege</span>
            <span class="post-date" title="2021-02-19 16:51:27">2021/02/19</span>
        </a>
        
        <a  class="All "
           href="/2021/02/19/%E5%88%9B%E5%BB%BA%E6%9C%8D%E5%8A%A1/"
           data-tag="windowsç›¸å…³"
           data-author="" >
            <span class="post-title" title="windowsåˆ›å»ºä¸€ä¸ªæœåŠ¡">windowsåˆ›å»ºä¸€ä¸ªæœåŠ¡</span>
            <span class="post-date" title="2021-02-19 16:51:27">2021/02/19</span>
        </a>
        
        <a  class="All "
           href="/2021/02/19/Windows%E6%B6%88%E6%81%AF%E6%9C%BA%E5%88%B6/"
           data-tag="windowsç›¸å…³"
           data-author="" >
            <span class="post-title" title="windowsæ¶ˆæ¯æœºåˆ¶">windowsæ¶ˆæ¯æœºåˆ¶</span>
            <span class="post-date" title="2021-02-19 16:51:27">2021/02/19</span>
        </a>
        
        <a  class="All "
           href="/2021/02/19/java%E5%AE%89%E5%85%A8%E4%B8%AD%E9%87%8D%E8%A6%81%E7%9A%84%E5%87%A0%E4%B8%AA%E6%9C%BA%E5%88%B6/"
           data-tag="javaå¼€å‘ä¸å®‰å…¨"
           data-author="" >
            <span class="post-title" title="javaå®‰å…¨ä¸­å‡ ä¸ªé‡è¦æœºåˆ¶">javaå®‰å…¨ä¸­å‡ ä¸ªé‡è¦æœºåˆ¶</span>
            <span class="post-date" title="2021-02-19 16:51:22">2021/02/19</span>
        </a>
        
        <a  class="All "
           href="/2021/02/19/cc%E9%93%BE1/"
           data-tag="javaå¼€å‘ä¸å®‰å…¨"
           data-author="" >
            <span class="post-title" title="javaååºåˆ—åŒ–-CCé“¾1">javaååºåˆ—åŒ–-CCé“¾1</span>
            <span class="post-date" title="2021-02-19 16:51:22">2021/02/19</span>
        </a>
        
        <a  class="All "
           href="/2021/02/19/office%E9%92%93%E9%B1%BC/"
           data-tag="é’“é±¼"
           data-author="" >
            <span class="post-title" title="officeé’“é±¼">officeé’“é±¼</span>
            <span class="post-date" title="2021-02-19 16:07:56">2021/02/19</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>
    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="åˆ‡æ¢å…¨å± å¿«æ·é”® s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-javaå®‰å…¨ä¸­é‡è¦çš„å‡ ä¸ªæœºåˆ¶" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">javaå®‰å…¨ä¸­å‡ ä¸ªé‡è¦æœºåˆ¶</h1>
    
    <div class="article-meta">
        
        
        
        
        <span class="tag">
            <i class="iconfont icon-tag"></i>
            
            <a class="color5">javaå¼€å‘ä¸å®‰å…¨</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
            Created At : <time class="date" title='Updated At: 2021-02-19 16:47:49'>2021-02-19 16:51</time>
        
    </div>
    <div class="article-meta">
        
        
        <span id="busuanzi_container_page_pv">
            Views ğŸ‘€ :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#java-%E4%BB%A3%E7%90%86"><span class="toc-text">java ä»£ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86"><span class="toc-text">é™æ€ä»£ç†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86"><span class="toc-text">åŠ¨æ€ä»£ç†</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#JNI"><span class="toc-text">JNI</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#JNI-HelloWorld"><span class="toc-text">JNI HelloWorld</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JNI-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">JNI æ•°æ®ç±»å‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JNI-%E5%AE%9E%E7%8E%B0%E6%9C%AC%E5%9C%B0%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C"><span class="toc-text">JNI å®ç°æœ¬åœ°å‘½ä»¤æ‰§è¡Œ</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8"><span class="toc-text">ç±»åŠ è½½å™¨</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ClassLoader"><span class="toc-text">ClassLoader</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ClassLoader%E8%87%AA%E5%AE%9A%E4%B9%89"><span class="toc-text">ClassLoaderè‡ªå®šä¹‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#URLClassLoader"><span class="toc-text">URLClassLoader</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%8D%E5%B0%84"><span class="toc-text">åå°„</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8D%E5%B0%84%E7%9A%84%E5%9F%BA%E7%A1%80"><span class="toc-text">åå°„çš„åŸºç¡€</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%BE%97%E4%B8%80%E4%B8%AA%E7%B1%BB%E7%9A%84%E7%B1%BB%E5%AF%B9%E8%B1%A1"><span class="toc-text">è·å¾—ä¸€ä¸ªç±»çš„ç±»å¯¹è±¡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E4%B8%80%E4%B8%AA%E7%B1%BB%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%89%80%E6%9C%89%E6%88%90%E5%91%98"><span class="toc-text">è·å–ä¸€ä¸ªç±»å¯¹è±¡çš„æ‰€æœ‰æˆå‘˜</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%B1%9E%E6%80%A7%E5%B9%B6%E4%BF%AE%E6%94%B9"><span class="toc-text">è·å–å±æ€§å¹¶ä¿®æ”¹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E6%96%B9%E6%B3%95%E5%B9%B6%E6%89%A7%E8%A1%8C"><span class="toc-text">è·å–æ–¹æ³•å¹¶æ‰§è¡Œ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95%E5%B9%B6%E6%89%A7%E8%A1%8C"><span class="toc-text">è·å–æ„é€ æ–¹æ³•å¹¶æ‰§è¡Œ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8D%E5%B0%84%E7%9A%84%E8%BF%9B%E9%98%B6%E4%B8%8E%E5%AE%89%E5%85%A8"><span class="toc-text">åå°„çš„è¿›é˜¶ä¸å®‰å…¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Class-forName-%E5%AE%9E%E8%B4%A8%E4%B8%8E%E7%B1%BB%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-text">Class.forName å®è´¨ä¸ç±»åˆå§‹åŒ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Runtime%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4%E8%A7%A3%E6%9E%90"><span class="toc-text">Runtimeæ‰§è¡Œå‘½ä»¤è§£æ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ProcessBuilder%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4%E7%9A%84%E5%8F%8D%E5%B0%84%E5%AE%9E%E7%8E%B0"><span class="toc-text">ProcessBuilderæ‰§è¡Œå‘½ä»¤çš„åå°„å®ç°</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Servlet"><span class="toc-text">Servlet</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Servlet%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-text">Servletç”Ÿå‘½å‘¨æœŸ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E8%B0%83%E7%94%A8init-%E6%96%B9%E6%B3%95%E8%BF%9B%E8%A1%8C%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-text">1.è°ƒç”¨init()æ–¹æ³•è¿›è¡Œåˆå§‹åŒ–</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E8%B0%83%E7%94%A8service-%E6%96%B9%E6%B3%95%E5%A4%84%E7%90%86%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%AF%B7%E6%B1%82"><span class="toc-text">2.è°ƒç”¨service()æ–¹æ³•å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E8%B0%83%E7%94%A8distroy-%E5%9C%A8Servlet%E9%94%80%E6%AF%81%E5%89%8D%E5%AE%8C%E6%88%90%E6%B8%85%E7%90%86%E6%B4%BB%E5%8A%A8"><span class="toc-text">3.è°ƒç”¨distroy()åœ¨Servleté”€æ¯å‰å®Œæˆæ¸…ç†æ´»åŠ¨</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E5%86%99%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84Servlet"><span class="toc-text">ç¼–å†™ä¸€ä¸ªç®€å•çš„Servlet</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E4%BC%A0%E5%8F%82"><span class="toc-text">å¤„ç†ä¼ å‚</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cookie-amp-session"><span class="toc-text">cookie&amp;session</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#cookie"><span class="toc-text">cookie</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#session"><span class="toc-text">session</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#JSP"><span class="toc-text">JSP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%A7%88"><span class="toc-text">æ¦‚è§ˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSP%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95"><span class="toc-text">JSPåŸºç¡€è¯­æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%AE%B5"><span class="toc-text">ä»£ç æ®µ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E4%BD%9C%E5%85%83%E7%B4%A0"><span class="toc-text">åŠ¨ä½œå…ƒç´ </span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B9%9D%E5%A4%A7%E5%AF%B9%E8%B1%A1"><span class="toc-text">ä¹å¤§å¯¹è±¡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%A0%E5%8F%82%E5%A4%84%E7%90%86"><span class="toc-text">ä¼ å‚å¤„ç†</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cookie-amp-session-1"><span class="toc-text">cookie&amp;session</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#cookie%EF%BC%8Csession%E5%9C%A8JSP%E9%87%8C%E7%9A%84%E8%AE%BE%E7%BD%AE%E4%B8%8Eservlet%E5%A6%82%E5%87%BA%E4%B8%80%E8%BE%99"><span class="toc-text">cookieï¼Œsessionåœ¨JSPé‡Œçš„è®¾ç½®ä¸servletå¦‚å‡ºä¸€è¾™</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#RMI"><span class="toc-text">RMI</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%95%E4%B8%BARMI"><span class="toc-text">ä½•ä¸ºRMI</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RMI-%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E8%BF%9C%E7%A8%8B%E6%8E%A5%E5%8F%A3"><span class="toc-text">RMI:å®ç°ä¸€ä¸ªè¿œç¨‹æ¥å£</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E4%B8%80%E4%B8%AA%E8%BF%9C%E7%A8%8B%E6%8E%A5%E5%8F%A3"><span class="toc-text">å®šä¹‰ä¸€ä¸ªè¿œç¨‹æ¥å£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9C%E7%A8%8B%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%AE%9E%E7%8E%B0%E7%B1%BB"><span class="toc-text">è¿œç¨‹æ¥å£çš„å®ç°ç±»</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%A4%E5%8F%B0JVM%E9%80%9A%E8%AE%AF%E7%9A%84%E7%AC%AC%E4%B8%80%E6%AD%A5-RMI-Registry"><span class="toc-text">ä¸¤å°JVMé€šè®¯çš„ç¬¬ä¸€æ­¥:RMI Registry</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Stub%E5%92%8CSkeleton"><span class="toc-text">Stubå’ŒSkeleton</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%E8%BF%9C%E7%A8%8B%E8%B0%83%E7%94%A8"><span class="toc-text">ä»£ç å®ç°è¿œç¨‹è°ƒç”¨</span></a></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="java-ä»£ç†"><a href="#java-ä»£ç†" class="headerlink" title="java ä»£ç†"></a>java ä»£ç†</h1><p>ä»£ç†çš„ä½œç”¨ï¼Œå°±æ˜¯åœ¨åŸæœ‰ç±»çš„ä»£ç ä¸å‘ç”Ÿæ”¹åŠ¨çš„æƒ…å†µä¸‹ï¼Œæ·»åŠ æ–°åŠŸèƒ½ã€‚èµ·åˆ°ä¸€ä¸ªä¿®é¥°å™¨çš„ä½œç”¨ã€‚</p>
<p>å‡è®¾æˆ‘ä»¬ç°åœ¨æœ‰ä¸ªç±»ï¼Œç”¨äºæ‰“å°helloworld</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">class hello&#123;</span><br><span class="line">    public void gogo()&#123;System.out.println(&quot;Hello Wrold&quot;);&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬æƒ³åœ¨ä¸æ”¹åŠ¨helloç±»çš„å‰æä¸‹ï¼Œåœ¨è¾“å‡ºhelloworldæ—¶åŒæ—¶è¾“å‡ºå½“å‰æ—¶é—´åˆ°æ–‡ä»¶ï¼Œè¾¾åˆ°æ—¥å¿—çš„åŠŸèƒ½ï¼Œè¯¥å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿä»¥è¿™ä¸ªé—®é¢˜ä¸ºåˆ‡å…¥ç‚¹ï¼Œå¼€å§‹å­¦ä¹ ä»£ç†ã€‚</p>
<h2 id="é™æ€ä»£ç†"><a href="#é™æ€ä»£ç†" class="headerlink" title="é™æ€ä»£ç†"></a>é™æ€ä»£ç†</h2><p>é™æ€ä»£ç†å¾ˆç®€å•ï¼Œä¸ç”¨æ¥è§¦ä»€ä¹ˆæ–°æŠ€æœ¯ã€‚å°±æ˜¯åˆ›å»ºä¸€ä¸ªâ€ç»§æ‰¿å·²æœ‰çš„ä¸€ä¸ªç±»<br>â€œçš„ç±»ï¼Œé€šè¿‡é‡å†™çˆ¶ç±»çš„æ–¹æ³•ï¼Œè¾¾åˆ°ä¸æ”¹åŠ¨åŸæœ‰ç±»çš„åŸºç¡€ä¸Šå¢æ·»æ–°åŠŸèƒ½ã€‚çº¸ä¸Šå¾—æ¥ç»ˆè§‰æµ…ï¼Œç”¨ä»£ç æ¥è¯´æ˜ä¸€ä¸‹å§ã€‚</p>
<p>ä»¥åˆšåˆšçš„è¾“å‡ºhelloworldçš„ç±»ä¸ºä¾‹ã€‚æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªå®ƒçš„å­ç±»ï¼Œå¹¶åœ¨å…¶ä¸­é‡å†™å…¶gogoæ–¹æ³•ï¼Œæ·»åŠ æ—¥å¿—ç”ŸæˆåŠŸèƒ½</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">class hello&#123;</span><br><span class="line">    public void gogo()&#123;System.out.println(&quot;Hello Wrold&quot;);&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class static_hello_proxy extends hello&#123;</span><br><span class="line">    hello hello_obj;</span><br><span class="line">    static_hello_proxy(hello hello)&#123;</span><br><span class="line">        this.hello_obj &#x3D; hello;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void gogo()&#123;</span><br><span class="line">        log();</span><br><span class="line">        hello_obj.gogo();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void log()&#123;</span><br><span class="line">        Date date &#x3D; new Date();</span><br><span class="line">        String value &#x3D; &quot;date:&quot;+date+&quot;\n&quot;;</span><br><span class="line">        FileWriter writer &#x3D; null;</span><br><span class="line">        try &#123;</span><br><span class="line">            writer &#x3D; new FileWriter(new File(&quot;log.txt&quot;),true);</span><br><span class="line">            writer.write(value);</span><br><span class="line">            writer.flush();</span><br><span class="line">        &#125; catch (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶åä¸»å‡½æ•°ä¸­æˆ‘ä»¬åªéœ€è°ƒç”¨static_hello_proxyä¸­çš„gogo()æ–¹æ³•å°±èƒ½è¾¾åˆ°æ—¥å¿—åŠŸèƒ½äº†ã€‚è¿™å°±æ˜¯é™æ€ä»£ç†ã€‚<br>é™æ€ä»£ç†çš„ç¼ºç‚¹æ˜¾è€Œæ˜“è§ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦ä»£ç†ä¸åŒçš„ç±»ï¼Œå°±è¦å†™å‡ºä¸åŒçš„é™æ€ä»£ç†ç±»å‡ºæ¥ï¼ŒåŒæ—¶æˆ‘ä»¬ä¹Ÿå¯èƒ½ä¼šé‡åˆ°éœ€è¦å¤šä¸ªä»£ç†ç±»æ¥å¢æ·»å®ç°ä¸€ä¸ªç±»çš„ä¸åŒåŠŸèƒ½ï¼Œæœ‰éœ€è¦å®šä¹‰ä¸€å¤§å †ç±»å‡ºæ¥ã€‚ä¸å®¹æ˜“ç»´æŠ¤ï¼Œæ‰€ä»¥åŠ¨æ€ä»£ç†å°±è¯ç”Ÿäº†ï¼Œå®ƒå¾ˆå¥½çš„è§£å†³äº†é™æ€ä»£ç†ä¼šäº§ç”Ÿå¤§é‡ä»£ç†ç±»çš„éš¾é¢˜ã€‚</p>
<h2 id="åŠ¨æ€ä»£ç†"><a href="#åŠ¨æ€ä»£ç†" class="headerlink" title="åŠ¨æ€ä»£ç†"></a>åŠ¨æ€ä»£ç†</h2><p>ä½¿ç”¨åŠ¨æ€ä»£ç†ï¼Œå¯ä»¥ä¸ç”¨åˆ›å»ºä»£ç†ç±»ï¼Œéå¸¸çš„æ–¹ä¾¿ã€‚</p>
<p>åŠ¨æ€ä»£ç†ç”±Proxy.newProxyInstanceæ–¹æ³•å®ç°ã€‚</p>
<p><img src="https://const27blog.oss-cn-beijing.aliyuncs.com/img/QQ%E6%88%AA%E5%9B%BE20210219150752.png" alt="QQæˆªå›¾20210219150752"></p>
<p>æˆ‘ä»¬çœ‹çœ‹å®ƒçš„ä¸‰ä¸ªå‚æ•°ã€‚<br>loaderï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯è¢«ä»£ç†ç±»çš„ç±»åŠ è½½å™¨ã€‚<br>interfaces è¢«ä»£ç†ç±»æ‰€å®ç°çš„æ¥å£ï¼Œå¯é€šè¿‡ ç±»å¯¹è±¡.getinterfaces()è·å¾—<br>h å³ InvocationHandleræ¥å£ç±» çš„å®ç°ç±»ï¼Œç”¨äºå®ç°ä»£ç†å¢æ·»çš„æ–¹æ³•</p>
<p>æˆ‘ä»¬çœ‹çœ‹è¿™ä¸ª InvocationHandler ç±»çš„ç»“æ„ã€‚è¿™ä¸ªç±»åªæœ‰ä¸€ä¸ªinvokeæ–¹æ³•ï¼Œä¸”è¿™ä¸ªç±»æ˜¯æ¥å£ç±»ã€‚è¿™ä¸ªinvokeæ–¹æ³•å°±ç”¨äºå­˜æ”¾æˆ‘ä»¬çš„å¢æ·»çš„åŠŸèƒ½ã€‚</p>
<p><img src="https://const27blog.oss-cn-beijing.aliyuncs.com/img/QQ%E6%88%AA%E5%9B%BE20210219150801.png" alt="QQæˆªå›¾20210219150801"></p>
<p>proxyå³ä»£ç†å¯¹è±¡ï¼Œmethodå³å¯¹è±¡ä¸­çš„æŸä¸ªæ–¹æ³•ï¼Œargså³æ–¹æ³•ä¸­çš„å‚æ•°ã€‚</p>
<p>okï¼Œæ¥ä¸‹æ¥æŠŠåˆšåˆšé‚£ä¸ªç±»åŠ¨æ€ä»£ç†ä¸€ä¸‹å§ã€‚ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯åŠ¨æ€ä»£ç†åªèƒ½ä»£ç†æ¥å£å®ç°ç±»ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">import java.io.File;</span><br><span class="line">import java.io.FileInputStream;</span><br><span class="line">import java.io.FileWriter;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.lang.reflect.InvocationHandler;</span><br><span class="line">import java.lang.reflect.Method;</span><br><span class="line">import java.lang.reflect.Proxy;</span><br><span class="line">import java.util.Date;</span><br><span class="line"></span><br><span class="line">public class test &#123;</span><br><span class="line">    public static void main(String[] args)&#123;</span><br><span class="line">        hello hello_obj &#x3D; new hello();</span><br><span class="line">        ClassLoader Loader &#x3D; hello_obj.getClass().getClassLoader();</span><br><span class="line">        Class&lt;?&gt;[] Interfaces &#x3D; hello_obj.getClass().getInterfaces();</span><br><span class="line">        InvocationHandler ih &#x3D; new InvocationHandler() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123;</span><br><span class="line">                if(method.getName()&#x3D;&#x3D;&quot;gogo&quot;)&#123;</span><br><span class="line">                    FileWriter writer &#x3D; new FileWriter(&quot;log.txt&quot;);</span><br><span class="line">                    writer.write(&quot;date:&quot;+new Date()+&quot;|by åŠ¨æ€ä»£ç†\n&quot;);</span><br><span class="line">                    writer.flush();</span><br><span class="line">                    hello_obj.gogo();</span><br><span class="line">                &#125;</span><br><span class="line">                return null;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        hello_interface proxy &#x3D; (hello_interface) Proxy.newProxyInstance(Loader,Interfaces,ih);  &#x2F;&#x2F;æ³¨æ„è¿™é‡Œæ•°æ®ç±»å‹æ˜¯æ¥å£çš„æ•°æ®ç±»å‹</span><br><span class="line">        proxy.gogo();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface hello_interface&#123;</span><br><span class="line">    public void gogo();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class hello implements hello_interface&#123;</span><br><span class="line">    public void gogo()&#123;System.out.println(&quot;Hello Wrold&quot;);&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>OK,ALL DOWN</p>
<h1 id="JNI"><a href="#JNI" class="headerlink" title="JNI"></a>JNI</h1><p>JNIæ˜¯JAVAçš„ä¸€ä¸ªæ¥å£ï¼Œç”¨æ¥å®ç°c/c++è°ƒç”¨ï¼Œä¸ºJAVAæä¾›äº†ä¸€ä¸ªæ“çºµåº•å±‚çš„èƒ½åŠ›ã€‚</p>
<h2 id="JNI-HelloWorld"><a href="#JNI-HelloWorld" class="headerlink" title="JNI HelloWorld"></a>JNI HelloWorld</h2><p>java IDEï¼šidea C IDEï¼švs2019</p>
<p>1.å†™å¥½JAVAæ–‡ä»¶ï¼Œå®šä¹‰å¥½nativeæ–¹æ³•ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">public class test &#123;</span><br><span class="line">    static&#123;</span><br><span class="line">        System.loadLibrary(&quot;Dll1&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    public native void hello();</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        test a &#x3D; new test();</span><br><span class="line">        a.hello();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>2.ä½¿ç”¨javacæŒ‡ä»¤ä¸ºjavaæ–‡ä»¶çš„å„nativeæ–¹æ³•ç”Ÿæˆcè¯­è¨€å¤´æ–‡ä»¶ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javac -cp . test.java -h .</span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œåä¼šåœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªå¤´æ–‡ä»¶</p>
<p><img src="https://const27blog.oss-cn-beijing.aliyuncs.com/img/QQ%E6%88%AA%E5%9B%BE20210219150831.png" alt="QQæˆªå›¾20210219150831"></p>
<p>3.ç”¨vscodeåˆ›å»ºä¸€ä¸ªdllé¡¹ç›®ï¼Œå°†test.hä¸jdk includeç›®å½•ä¸‹çš„jni.hä»¥åŠjdk/include/win32/jni_md.hç»Ÿç»Ÿç§»åŠ¨åˆ°é¡¹ç›®æ–‡ä»¶ç›®å½•ä¸‹ã€‚ç„¶ååœ¨vscodeå¤´æ–‡ä»¶é‡Œæ·»åŠ ç°æœ‰é¡¹ï¼ŒæŠŠåˆšåˆšæ”¾åˆ°é¡¹ç›®æ–‡ä»¶ä¸‹çš„3ä¸ªå¤´æ–‡ä»¶æ·»åŠ è¿›å»ã€‚</p>
<p>4.åœ¨cæˆ–c++ä¸­å®šä¹‰nativeæ–¹æ³•çš„c/c++åŸå‹ã€‚</p>
<p><img src="https://const27blog.oss-cn-beijing.aliyuncs.com/img/QQ%E6%88%AA%E5%9B%BE20210219150842.png" alt="QQæˆªå›¾20210219150842"></p>
<p>é€šè¿‡test.hæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å“ªäº›æ–¹æ³•éœ€è¦æˆ‘ä»¬å®šä¹‰ã€‚è¿™é‡Œæ˜¯Java_test_helloæ–¹æ³•ã€‚</p>
<p>æˆ‘ä»¬éšä¾¿å®šä¹‰ä¸€ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#include &quot;test.h&quot;</span><br><span class="line"></span><br><span class="line">JNIEXPORT void JNICALL Java_test_hello(JNIEnv* a, jobject b) &#123;</span><br><span class="line">	printf(&quot;Hello,World&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç¼–è¯‘ä¸ºdllæ–‡ä»¶ã€‚</p>
<p>5.åœ¨ideaé‡Œä¸ºå½“å‰é¡¹ç›®æŒ‡å®šä¾èµ–dllæ–‡ä»¶è·¯å¾„</p>
<p>å…ˆç‚¹å‡»ç®­å¤´æŒ‡å‘å¤„çš„ç¼–è¾‘é€‰é¡¹ï¼Œç„¶ååœ¨è™šæ‹Ÿæœºé€‰é¡¹é‡Œå¡«ä¸Š-Djava.library.path=ä½ çš„dllè·¯å¾„</p>
<p><img src="https://const27blog.oss-cn-beijing.aliyuncs.com/img/QQ%E6%88%AA%E5%9B%BE20210219151203.png" alt="QQæˆªå›¾20210219151203"></p>
<p>6.æŠŠdllæ–‡ä»¶æ‹–è¿›åˆšåˆšé…ç½®å¥½çš„ä¾èµ–è·¯å¾„ï¼Œè¿è¡Œ</p>
<p><img src="https://const27blog.oss-cn-beijing.aliyuncs.com/img/QQ%E6%88%AA%E5%9B%BE20210219151203.png" alt="QQæˆªå›¾20210219151203"></p>
<h2 id="JNI-æ•°æ®ç±»å‹"><a href="#JNI-æ•°æ®ç±»å‹" class="headerlink" title="JNI æ•°æ®ç±»å‹"></a>JNI æ•°æ®ç±»å‹</h2><p><img src="https://const27blog.oss-cn-beijing.aliyuncs.com/img/QQ%E6%88%AA%E5%9B%BE20210219151238.png" alt="QQæˆªå›¾20210219151238"></p>
<p>JNIç±»å‹æ•°æ®åœ¨cæ–‡ä»¶é‡Œå½“ä½œä¼ å…¥å‚æ•°å’Œè¿”å›ç»“æœï¼Œå‚æ•°ä¼ å…¥åå…¶æ•°æ®ç±»å‹ä¼šè¢«ç”¨æŒ‡å®šæ–¹æ³•è½¬æ¢ä¸ºCç±»å‹ç„¶åè¢«å¤„ç†ï¼Œå¤„ç†å®Œæ¯•åä½¿ç”¨æŒ‡å®šæ–¹æ³•è½¬æ¢ä¸ºJNIç±»å‹è¿”å›ç»™JAVAã€‚</p>
<p>è¿™é‡Œä»‹ç»ä¸€ä¸‹cä¸­JNIç±»å‹ä¸cç±»å‹äº’è½¬çš„å‡½æ•°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">jstringè½¬char*ï¼šenv-&gt;GetStringUTFChars(str, &amp;jsCopy)</span><br><span class="line"></span><br><span class="line">char*è½¬jstring: env-&gt;NewStringUTF(&quot;Hello...&quot;)</span><br><span class="line"></span><br><span class="line">å­—ç¬¦ä¸²èµ„æºé‡Šæ”¾: env-&gt;ReleaseStringUTFChars(javaString, p);</span><br></pre></td></tr></table></figure>
<h2 id="JNI-å®ç°æœ¬åœ°å‘½ä»¤æ‰§è¡Œ"><a href="#JNI-å®ç°æœ¬åœ°å‘½ä»¤æ‰§è¡Œ" class="headerlink" title="JNI å®ç°æœ¬åœ°å‘½ä»¤æ‰§è¡Œ"></a>JNI å®ç°æœ¬åœ°å‘½ä»¤æ‰§è¡Œ</h2><p>ç›¸å½“äºä¸€ä¸ªåŠ å¼ºç‰ˆçš„helloworld.</p>
<p>é¦–å…ˆæˆ‘ä»¬çœ‹ä¸€ä¸‹ï¼Œå¦‚æœåœ¨c++ä¸­æˆ‘ä»¬æƒ³æ‰§è¡Œæœ¬åœ°å‘½ä»¤æ‰§è¡Œè¯¥å¦‚ä½•æ‰§è¡Œ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;iostream&gt;</span><br><span class="line">#include&lt;stdio.h&gt;</span><br><span class="line">#include &lt;string&gt;</span><br><span class="line"></span><br><span class="line">std::string gogo(const char* cmd) &#123;</span><br><span class="line">	const char* cmd &#x3D; cmd;</span><br><span class="line">	FILE* fp &#x3D; _popen(cmd, &quot;r&quot;);</span><br><span class="line">	if (fp !&#x3D; NULL) &#123;</span><br><span class="line">		std::string result;</span><br><span class="line">		char buf[128];</span><br><span class="line">		while (fgets(buf, sizeof(buf), fp) !&#x3D; NULL) &#123;</span><br><span class="line">			result +&#x3D; buf;</span><br><span class="line">		&#125;</span><br><span class="line">		return result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line">	std::string result &#x3D; gogo(&quot;dir&quot;);</span><br><span class="line">	std::cout &lt;&lt; result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é‚£ä¹ˆæˆ‘ä»¬åœ¨JNIé‡Œå¦‚ä½•å®ç°å‘¢?å…¶å®ä¹Ÿå·®ä¸å¤š.</p>
<p>æˆ‘ä»¬ç°åœ¨å†™å¥½javaä»£ç </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public class test &#123;</span><br><span class="line">    static&#123;</span><br><span class="line">        System.loadLibrary(&quot;Dll2&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    public native String gogo(String cmd);</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        test a &#x3D; new test();</span><br><span class="line">        String str &#x3D; a.gogo(&quot;dir&quot;);</span><br><span class="line">        System.out.println(str);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å†™å¥½c++ä»£ç </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">#include &quot;test.h&quot;</span><br><span class="line">#include&lt;iostream&gt;</span><br><span class="line">#include&lt;stdio.h&gt;</span><br><span class="line">#include &lt;string&gt;</span><br><span class="line">JNIEXPORT jstring JNICALL Java_test_gogo(JNIEnv* env, jobject obj, jstring str) &#123;</span><br><span class="line">	 const char* cmd &#x3D; env-&gt;GetStringUTFChars(str, 0);</span><br><span class="line">	 FILE* fd &#x3D; _popen(cmd, &quot;r&quot;);</span><br><span class="line">	 if (fd !&#x3D; NULL) &#123;</span><br><span class="line">		 std::string result;</span><br><span class="line">		 char buf[128];</span><br><span class="line">		 while (fgets(buf, sizeof(buf), fd) !&#x3D; NULL) &#123;</span><br><span class="line">			 result +&#x3D; buf;</span><br><span class="line">		 &#125;</span><br><span class="line">		 _pclose(fd);</span><br><span class="line">		 return env-&gt;NewStringUTF(result.c_str());</span><br><span class="line">	 &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿è¡Œç»“æœ</p>
<p><img src="https://const27blog.oss-cn-beijing.aliyuncs.com/img/QQ%E6%88%AA%E5%9B%BE20210219151248.png" alt="QQæˆªå›¾20210219151248"></p>
<h1 id="ç±»åŠ è½½å™¨"><a href="#ç±»åŠ è½½å™¨" class="headerlink" title="ç±»åŠ è½½å™¨"></a>ç±»åŠ è½½å™¨</h1><h2 id="ClassLoader"><a href="#ClassLoader" class="headerlink" title="ClassLoader"></a>ClassLoader</h2><p>åœ¨JVMç±»åŠ è½½å™¨ä¸­æœ€é¡¶å±‚çš„æ˜¯<code>Bootstrap ClassLoader(å¼•å¯¼ç±»åŠ è½½å™¨)</code>ã€<code>Extension ClassLoader(æ‰©å±•ç±»åŠ è½½å™¨)</code>ã€<code>App ClassLoader(ç³»ç»Ÿç±»åŠ è½½å™¨)</code>ï¼Œ<code>AppClassLoader</code>æ˜¯é»˜è®¤çš„ç±»åŠ è½½å™¨ï¼Œå¦‚æœç±»åŠ è½½æ—¶æˆ‘ä»¬ä¸æŒ‡å®šç±»åŠ è½½å™¨çš„æƒ…å†µä¸‹ï¼Œé»˜è®¤ä¼šä½¿ç”¨<code>AppClassLoader</code>åŠ è½½ç±»ï¼Œ<code>ClassLoader.getSystemClassLoader()</code>è¿”å›çš„ç³»ç»Ÿç±»åŠ è½½å™¨ä¹Ÿæ˜¯<code>AppClassLoader</code>ã€‚</p>
<p>ClassLoaderçš„ä¸»è¦æ–¹æ³•æœ‰ä»¥ä¸‹å‡ ä¸ªï¼š</p>
<ol>
<li><code>loadClass</code>(åŠ è½½æŒ‡å®šçš„Javaç±»)</li>
<li><code>findClass</code>(æŸ¥æ‰¾æŒ‡å®šçš„Javaç±»)</li>
<li><code>findLoadedClass</code>(æŸ¥æ‰¾JVMå·²ç»åŠ è½½è¿‡çš„ç±»)</li>
<li><code>defineClass</code>(å®šä¹‰ä¸€ä¸ªJavaç±»)</li>
<li><code>resolveClass</code>(é“¾æ¥æŒ‡å®šçš„Javaç±»)</li>
</ol>
<p>å¦‚ä½•é€šè¿‡ClassLoaderè·å–ä¸€ä¸ªç±»å¯¹è±¡ï¼Ÿå¾ˆç®€å•</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Class a &#x3D; ClassLoader.getSystemClassLoader().loadClass(&quot;java.lang.Runtime&quot;);</span><br></pre></td></tr></table></figure>
<p>å®ƒå¯¹ä¸€ä¸ªç±»çš„åŠ è½½æµç¨‹å¦‚ä¸‹:</p>
<ol>
<li>ClassLoaderè°ƒç”¨loadClass(String name)æ–¹æ³•åŠ è½½æŒ‡å®šç±»</li>
<li>è°ƒç”¨findLoadedClassæ£€æŸ¥æŒ‡å®šçš„ç±»æ˜¯å¦å·²ç»åˆå§‹åŒ–ï¼Œè‹¥å·²åˆå§‹åŒ–åˆ™ç›´æ¥è¿”å›ç±»å¯¹è±¡</li>
<li>å¦‚æœåˆ›å»ºClassLoaderæ—¶ä¼ å…¥çˆ¶ç±»åŠ è½½å™¨ï¼Œåˆ™ä½¿ç”¨çˆ¶ç±»åŠ è½½å™¨åŠ è½½æŒ‡å®šç±»ï¼Œå¦åˆ™ä½¿ç”¨JVMçš„Bootstrap ClassLoaderï¼ˆå¼•å¯¼ç±»åŠ è½½å™¨ï¼‰åŠ è½½</li>
<li>å¦‚æœä»¥ä¸Šæ­¥éª¤æ²¡æœ‰å®ŒæˆåŠ è½½ï¼Œåˆ™ä½¿ç”¨findClassæ–¹æ³•å°è¯•åŠ è½½æŒ‡å®šç±»</li>
<li>å¦‚æœå½“å‰ClassLoaderç±»æ²¡æœ‰é‡å†™findClassæ–¹æ³•åˆ™ç›´æ¥è¿”å›å¼‚å¸¸ã€‚è‹¥é‡å†™äº†è¯¥æ–¹æ³•ä¸”é€šè¿‡findClassæ‰¾åˆ°äº†ä¼ å…¥çš„ç±»åçš„å¯¹åº”çš„ç±»å­—èŠ‚ç ï¼Œé‚£ä¹ˆå°±ä¼šä½¿ç”¨defineClasså»JVMæ³¨å†Œè¯¥ç±»</li>
<li>å¦‚æœloadClassè°ƒç”¨æ—¶ä¼ å…¥resolveçš„å‚æ•°ä¸ºtrueï¼Œåˆ™é‚£ä¹ˆè¿˜éœ€è¦è°ƒç”¨resolveClassæ–¹æ³•è¿æ¥ç±»ã€‚è¯¥å‚æ•°é»˜è®¤ä¸ºfalse</li>
<li>è¿”å›è¢«JVMåŠ è½½åçš„æŒ‡å®šç±»çš„ç±»å¯¹è±¡</li>
</ol>
<h2 id="ClassLoaderè‡ªå®šä¹‰"><a href="#ClassLoaderè‡ªå®šä¹‰" class="headerlink" title="ClassLoaderè‡ªå®šä¹‰"></a>ClassLoaderè‡ªå®šä¹‰</h2><p>java.lang.ClassLoader æ˜¯æ‰€æœ‰ç±»åŠ è½½å™¨çš„çˆ¶ç±»ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é‡å†™å…¶findClassæ–¹æ³•æ¥å®ç°è‡ªå®šä¹‰ClassLoaderã€‚</p>
<p>æˆ‘ä»¬è¯•ç€è‡ªå®šä¹‰ä¸€ä¸ªï¼Œå½“å¯¹loadClassä¼ å…¥com.anbai.sec.classloader.TestHelloWorld æ—¶ä¼šç›´æ¥è¿”å›ä¸€ä¸ªåœ¨åŠ è½½å™¨é‡Œå·²ç»å®šä¹‰å¥½äº†çš„å¯¹åº”ç±»çš„ç±»å¯¹è±¡ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">class TestClassLoader extends  ClassLoader&#123;</span><br><span class="line">    String testClassName&#x3D;&quot;com.anbai.sec.classloader.TestHelloWorld&quot;;</span><br><span class="line">    byte[] testClassBytes &#x3D; new byte[]&#123;-54, -2, -70, -66, 0, 0, 0, 51, 0, 17, 10, 0, 4, 0, 13, 8, 0, 14, 7, 0, 15, 7, 0,</span><br><span class="line">            16, 1, 0, 6, 60, 105, 110, 105, 116, 62, 1, 0, 3, 40, 41, 86, 1, 0, 4, 67, 111, 100,</span><br><span class="line">            101, 1, 0, 15, 76, 105, 110, 101, 78, 117, 109, 98, 101, 114, 84, 97, 98, 108, 101,</span><br><span class="line">            1, 0, 5, 104, 101, 108, 108, 111, 1, 0, 20, 40, 41, 76, 106, 97, 118, 97, 47, 108,</span><br><span class="line">            97, 110, 103, 47, 83, 116, 114, 105, 110, 103, 59, 1, 0, 10, 83, 111, 117, 114, 99,</span><br><span class="line">            101, 70, 105, 108, 101, 1, 0, 19, 84, 101, 115, 116, 72, 101, 108, 108, 111, 87, 111,</span><br><span class="line">            114, 108, 100, 46, 106, 97, 118, 97, 12, 0, 5, 0, 6, 1, 0, 12, 72, 101, 108, 108, 111,</span><br><span class="line">            32, 87, 111, 114, 108, 100, 126, 1, 0, 40, 99, 111, 109, 47, 97, 110, 98, 97, 105, 47,</span><br><span class="line">            115, 101, 99, 47, 99, 108, 97, 115, 115, 108, 111, 97, 100, 101, 114, 47, 84, 101, 115,</span><br><span class="line">            116, 72, 101, 108, 108, 111, 87, 111, 114, 108, 100, 1, 0, 16, 106, 97, 118, 97, 47, 108,</span><br><span class="line">            97, 110, 103, 47, 79, 98, 106, 101, 99, 116, 0, 33, 0, 3, 0, 4, 0, 0, 0, 0, 0, 2, 0, 1,</span><br><span class="line">            0, 5, 0, 6, 0, 1, 0, 7, 0, 0, 0, 29, 0, 1, 0, 1, 0, 0, 0, 5, 42, -73, 0, 1, -79, 0, 0, 0,</span><br><span class="line">            1, 0, 8, 0, 0, 0, 6, 0, 1, 0, 0, 0, 7, 0, 1, 0, 9, 0, 10, 0, 1, 0, 7, 0, 0, 0, 27, 0, 1,</span><br><span class="line">            0, 1, 0, 0, 0, 3, 18, 2, -80, 0, 0, 0, 1, 0, 8, 0, 0, 0, 6, 0, 1, 0, 0, 0, 10, 0, 1, 0, 11,</span><br><span class="line">            0, 0, 0, 2, 0, 12&#125;;  &#x2F;&#x2F;è¿™éƒ¨åˆ†æ˜¯ç±»å­—èŠ‚ç ï¼Œæ˜¯æˆ‘ä»åˆ«äººé‚£é‡Œå«–çš„</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected Class&lt;?&gt; findClass(String name) throws ClassNotFoundException &#123;</span><br><span class="line">        if(name.equals(&quot;com.anbai.sec.classloader.TestHelloWorld&quot;))&#123;</span><br><span class="line">            return  defineClass(testClassName,testClassBytes,0,testClassBytes.length);</span><br><span class="line">        &#125;</span><br><span class="line">        else&#123;</span><br><span class="line">            return super.findClass(name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶åä¸»å‡½æ•°æˆ‘ä»¬å†™</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">public static void main(String[] args) &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">        TestClassLoader Loader &#x3D; new TestClassLoader();</span><br><span class="line">        Class clazz &#x3D; Loader.loadClass(&quot;com.anbai.sec.classloader.TestHelloWorld&quot;);</span><br><span class="line">        Object Instance &#x3D; clazz.newInstance();</span><br><span class="line">        Method method &#x3D; Instance.getClass().getMethod(&quot;hello&quot;);</span><br><span class="line">        String str &#x3D; (String) method.invoke(Instance);</span><br><span class="line">        System.out.println(str);</span><br><span class="line">    &#125;catch (Exception e)&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç»æµ‹è¯•ç¨‹åºæ­£å¸¸è¿è¡Œã€‚æˆ‘ä»¬çš„è‡ªå®šä¹‰ClassLoaderå°±å†™å¥½äº†ã€‚å½“ç„¶è¿˜æœ‰æ›´å¤šèŠ±é‡Œèƒ¡å“¨çš„é‡å†™æ–¹æ³•ï¼Œæˆ‘ä»¬è¿™é‡Œåªæ˜¯çŸ¥é“æ€ä¹ˆé‡å†™å³å¯ã€‚</p>
<h2 id="URLClassLoader"><a href="#URLClassLoader" class="headerlink" title="URLClassLoader"></a>URLClassLoader</h2><p>URLClassLoaderä¹Ÿæ˜¯ClassLoaderç±»ä¸‹çš„ä¸€ä¸ªé‡å†™ç±»ã€‚è¿™ä¸ªç±»å¾ˆå¥½ç”¨ï¼Œå®ƒå¯ä»¥é€šè¿‡ç½‘ç»œåè®®è·å–è¿œç¨‹çš„jaråŒ…ï¼Œç„¶åé€šè¿‡ç±»åŠ è½½å™¨å»è·å¾—å…¶ä¸­çš„æŒ‡å®šç±»çš„ç±»å¯¹è±¡ã€‚è¯•è¯•å§ã€‚</p>
<p>æµç¨‹æ˜¯å…ˆå®šä¹‰ä¸€ä¸ªURLå¯¹è±¡æŒ‡å‘æˆ‘ä»¬çš„jaråŒ…ï¼Œç„¶åå®ä¾‹åŒ–ä¸€ä¸ªURLClassLoaderå¯¹è±¡ï¼Œç„¶åé€šè¿‡loadClassåŠ è½½æŸä¸ªç±»è·å¾—ç±»å¯¹è±¡ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">import java.lang.reflect.Field;</span><br><span class="line">import java.lang.reflect.Method;</span><br><span class="line">import java.net.URL;</span><br><span class="line">import java.net.URLClassLoader;</span><br><span class="line"></span><br><span class="line">public class test &#123;</span><br><span class="line">    public static void main(String[] args)&#123;</span><br><span class="line">            try&#123;</span><br><span class="line">&#x2F;&#x2F;                Class clazz &#x3D; ClassLoader.getSystemClassLoader().loadClass(&quot;fuck&quot;);</span><br><span class="line">&#x2F;&#x2F;                Method method &#x3D; clazz.getMethod(&quot;func1&quot;,int.class);</span><br><span class="line">&#x2F;&#x2F;                method.invoke(clazz.newInstance(),123);</span><br><span class="line">                URL url &#x3D; new URL(&quot;http:&#x2F;&#x2F;127.0.0.1&#x2F;LOL.jar&quot;);</span><br><span class="line">                URLClassLoader Loader &#x3D; new URLClassLoader(new URL[]&#123;url&#125;);</span><br><span class="line">                Class clazz &#x3D; Loader.loadClass(&quot;fuck&quot;);</span><br><span class="line">                Method method &#x3D; clazz.getMethod(&quot;func1&quot;,int.class);</span><br><span class="line">                method.setAccessible(true);</span><br><span class="line">                method.invoke(clazz.newInstance(),123);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">            catch (Exception e)&#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶åæˆ‘ä»¬jaråŒ…é‡Œçš„classæ˜¯è¿™ä¸ª.JAVAçš„ç¼–è¯‘æ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public class fuck&#123;</span><br><span class="line">    public void func1(int input1)&#123;</span><br><span class="line">        System.out.print(input1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œç»“æœ</p>
<p><img src="https://const27blog.oss-cn-beijing.aliyuncs.com/img/QQ%E6%88%AA%E5%9B%BE20210219151315.png" alt="QQæˆªå›¾20210219151315"></p>
<h1 id="åå°„"><a href="#åå°„" class="headerlink" title="åå°„"></a>åå°„</h1><h2 id="åå°„çš„åŸºç¡€"><a href="#åå°„çš„åŸºç¡€" class="headerlink" title="åå°„çš„åŸºç¡€"></a>åå°„çš„åŸºç¡€</h2><p>åå°„æ˜¯javaçš„ä¸€ä¸ªç‰¹æ€§ï¼Œç”¨äºè·å–ç±»çš„è¯¦ç»†ä¿¡æ¯ï¼ˆæ–¹æ³•ï¼Œå˜é‡ï¼‰ï¼Œå¹¶å¯ä»¥æ‰§è¡Œç±»ä¸­çš„æ–¹æ³•ã€‚</p>
<h3 id="è·å¾—ä¸€ä¸ªç±»çš„ç±»å¯¹è±¡"><a href="#è·å¾—ä¸€ä¸ªç±»çš„ç±»å¯¹è±¡" class="headerlink" title="è·å¾—ä¸€ä¸ªç±»çš„ç±»å¯¹è±¡"></a>è·å¾—ä¸€ä¸ªç±»çš„ç±»å¯¹è±¡</h3><p>è¦è·å–ç±»çš„è¯¦ç»†ä¿¡æ¯æˆ–æ‰§è¡Œå…¶ä¸­çš„æ–¹æ³•ï¼Œé¦–å…ˆè‚¯å®šæ˜¯è¦è·å–åˆ°é‚£ä¸ªç±»çš„ç±»å¯¹è±¡</p>
<p>æ–¹æ³•ä¸€:æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªClassç±»å‹çš„å˜é‡ï¼Œç”¨äºæ¥æ”¶Class.forname(â€œç±»â€)è¿”å›çš„ç±»å¯¹è±¡ã€‚è¿™ä¸ªæ–¹æ³•å¿…é¡»é€šè¿‡try..catch æ¥å¤„ç†å…¶ä¸­ClassNotFoundException</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">try&#123;</span><br><span class="line">Class clazz &#x3D; Class.forname(&quot;java.lang.String&quot;)ï¼›&#125;</span><br><span class="line">catch(ClassNotFoundException e)&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>æ–¹æ³•äºŒ:æˆ‘ä»¬å®ä¾‹åŒ–ä¸€ä¸ªç±»çš„å¯¹è±¡å‡ºæ¥ï¼Œç„¶åé€šè¿‡ å¯¹è±¡.getClass()è·å¾—å…¶ç±»å¯¹è±¡</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String a &#x3D; new String;</span><br><span class="line">Class clazz &#x3D; a.getclass();</span><br></pre></td></tr></table></figure>
<p>æ–¹æ³•ä¸‰:ä½¿ç”¨.class</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Class clazz &#x3D; String.class;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±è·å¾—ä¸€ä¸ªæŒ‡å®šç±»çš„ç±»å¯¹è±¡äº†ã€‚å¾ˆç®€å•ã€‚æˆ‘ä»¬å¯ä»¥å¯¹ä¸€ä¸ªç±»å¯¹è±¡ä½¿ç”¨getName()æ–¹æ³•è·å–å…¶ç±»åã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(clazz.getName());</span><br></pre></td></tr></table></figure>
<h3 id="è·å–ä¸€ä¸ªç±»å¯¹è±¡çš„æ‰€æœ‰æˆå‘˜"><a href="#è·å–ä¸€ä¸ªç±»å¯¹è±¡çš„æ‰€æœ‰æˆå‘˜" class="headerlink" title="è·å–ä¸€ä¸ªç±»å¯¹è±¡çš„æ‰€æœ‰æˆå‘˜"></a>è·å–ä¸€ä¸ªç±»å¯¹è±¡çš„æ‰€æœ‰æˆå‘˜</h3><h4 id="è·å–å±æ€§å¹¶ä¿®æ”¹"><a href="#è·å–å±æ€§å¹¶ä¿®æ”¹" class="headerlink" title="è·å–å±æ€§å¹¶ä¿®æ”¹"></a>è·å–å±æ€§å¹¶ä¿®æ”¹</h4><p>å¯¹ç±»å¯¹è±¡ä½¿ç”¨ getFields() æˆ– getDeclaredFields() æ–¹æ³•å³å¯è·å¾—å±æ€§æ•°ç»„ï¼ŒåŒºåˆ«åœ¨äºå‰è€…åªèƒ½è·å–å…¬æœ‰å±æ€§ï¼Œåè€…èƒ½è·å–ç§æœ‰å±æ€§ã€‚<br>ç„¶åéå†å±æ€§æ•°ç»„ï¼Œé€šè¿‡å¯¹æ¯ä¸€é¡¹æ‰§è¡ŒgetName()è·å–å±æ€§åï¼Œget(å®ä¾‹åŒ–çš„å¯¹è±¡)è·å¾—å±æ€§å€¼<br>ç„¶åå¯¹æŸä¸€é¡¹è¿›è¡Œ.set()å¯¹å…¶è¿›è¡Œä¿®æ”¹<br>è¿™é‡Œéœ€è¦æçš„æ˜¯ï¼Œå¦‚æœè¦è·å¾—æˆ–ä¿®æ”¹ç§æœ‰å±æ€§çš„å€¼çš„æ—¶å€™ï¼Œéœ€è¦å¯¹ç§æœ‰å±æ€§ä½¿ç”¨setAccessible(true)æ¥å®ç°ç§æœ‰è®¿é—®</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">import java.lang.reflect.Field;</span><br><span class="line"></span><br><span class="line">public class test &#123;</span><br><span class="line">    public static void main(String[] args)&#123;</span><br><span class="line">        Class clazz &#x3D; (new abc()).getClass();</span><br><span class="line">        abc test &#x3D; new abc();</span><br><span class="line">        Field[] Fields &#x3D; clazz.getDeclaredFields();</span><br><span class="line">        for(Field Field:Fields)&#123; &#x2F;&#x2F;éå†Fieldsæ•°ç»„</span><br><span class="line">            try &#123; &#x2F;&#x2F;æ‰§è¡Œget()æ–¹æ³•æ—¶éœ€æŠ›å‡ºIllegalAccessExceptioné”™è¯¯</span><br><span class="line">                Field.setAccessible(true);  &#x2F;&#x2F;å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹å®ç°ç§æœ‰è®¿é—®</span><br><span class="line">                System.out.print(Field.getName());</span><br><span class="line">                Object value &#x3D; Field.get(new abc());</span><br><span class="line">                System.out.println(&quot;:&quot; + value);</span><br><span class="line">                Field.set(test,&quot;new&quot;);   &#x2F;&#x2F;ä¿®æ”¹testå¯¹è±¡ä¸­çš„å˜é‡</span><br><span class="line">            &#125;</span><br><span class="line">            catch (Exception e)&#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(test.a);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class abc&#123;</span><br><span class="line">    public String a &#x3D;new String(&quot;tom and mary&quot;);</span><br><span class="line">    private String b &#x3D; new String(&quot;abcdefg&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿è¡Œç»“æœ</p>
<p><img src="https://const27blog.oss-cn-beijing.aliyuncs.com/img/QQ%E6%88%AA%E5%9B%BE20210219151405.png" alt="QQæˆªå›¾20210219151405"></p>
<p>å¦å¤–ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡getFiled(â€œå±æ€§åâ€)æ¥è·å–ç‰¹å®šå±æ€§çš„Filedå¯¹è±¡ï¼Œ getDeclaredFields() åŒç†</p>
<h4 id="è·å–æ–¹æ³•å¹¶æ‰§è¡Œ"><a href="#è·å–æ–¹æ³•å¹¶æ‰§è¡Œ" class="headerlink" title="è·å–æ–¹æ³•å¹¶æ‰§è¡Œ"></a>è·å–æ–¹æ³•å¹¶æ‰§è¡Œ</h4><p>æ¥ä¸‹æ¥æ˜¯è·å–æ–¹æ³•çš„ä¸€äº›ä¿¡æ¯<br>æˆ‘ä»¬é€šè¿‡getMethodè·å–æ–¹æ³•å¯¹è±¡ï¼Œç„¶åé€šè¿‡getNameè·å–æ–¹æ³•åï¼ŒgetReturnTypeè·å–è¿”å›å€¼ç±»å‹ï¼ŒgetParameterTypesè·å–ä¼ å…¥çš„å‚æ•°ç±»å‹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">import java.lang.reflect.Field;</span><br><span class="line">import java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line">public class test &#123;</span><br><span class="line">    public static void main(String[] args)&#123;</span><br><span class="line">        Class clazz &#x3D; (new abc()).getClass();</span><br><span class="line">        Method[] methods &#x3D; clazz.getDeclaredMethods();</span><br><span class="line">        for(Method method:methods)&#123;</span><br><span class="line">            try&#123;</span><br><span class="line">                System.out.print(method.getName());</span><br><span class="line">                System.out.print(&quot;|retrunType:&quot;+method.getReturnType()+&quot;|&quot;);</span><br><span class="line">                Class[] ParameterTypes &#x3D; method.getParameterTypes();</span><br><span class="line">                for(Class ParameterType:ParameterTypes)&#123;</span><br><span class="line">                    System.out.print(&quot;ParamType:&quot;+ParameterType.getName());</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(&quot;&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">            catch (Exception e)&#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class abc&#123;</span><br><span class="line">    public int a &#x3D;1;</span><br><span class="line">    private String b &#x3D; new String(&quot;abcdefg&quot;);</span><br><span class="line"></span><br><span class="line">    public void func1(int input1)&#123;</span><br><span class="line">        System.out.print(input1);</span><br><span class="line">    &#125;</span><br><span class="line">    private void func2(int input1)&#123;</span><br><span class="line">        System.out.print(input1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ¥ä¸‹æ¥æ˜¯å¯¹methodå¯¹è±¡æ‰§è¡Œinvokeæ–¹æ³•è°ƒç”¨ï¼Œé€šè¿‡ä¼ å…¥å‚æ•°ï¼ŒæŒ‡å®šå¯¹è±¡ï¼Œå³å¯è°ƒç”¨è¯¥æ–¹æ³•ã€‚æˆ‘åœ¨ä¸Šè¿°ä»£ç ä¸­æ·»åŠ äº†ä¿®æ”¹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">import java.lang.reflect.Field;</span><br><span class="line">import java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line">public class test &#123;</span><br><span class="line">    public static void main(String[] args)&#123;</span><br><span class="line">        Class clazz &#x3D; (new abc()).getClass();</span><br><span class="line">        Method[] methods &#x3D; clazz.getDeclaredMethods();</span><br><span class="line">        for(Method method:methods)&#123;</span><br><span class="line">            try&#123;</span><br><span class="line">                System.out.print(method.getName());</span><br><span class="line">                System.out.print(&quot;|retrunType:&quot;+method.getReturnType()+&quot;|&quot;);</span><br><span class="line">                Class[] ParameterTypes &#x3D; method.getParameterTypes();</span><br><span class="line">                for(Class ParameterType:ParameterTypes)&#123;</span><br><span class="line">                    System.out.print(&quot;ParamType:&quot;+ParameterType.getName());</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(&quot;&quot;);</span><br><span class="line">                method.setAccessible(true);  &#x2F;&#x2F;æ‰“å¼€ç§æœ‰è®¿é—®</span><br><span class="line">                method.invoke(new abc(),2);   &#x2F;&#x2F;new è¿™é‡Œinvokeç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šå®ä¾‹åŒ–å¯¹è±¡ï¼Œä¹‹åçš„å‚æ•°ä»£è¡¨ä¼ å…¥æ–¹æ³•çš„å‚æ•°</span><br><span class="line">            &#125;</span><br><span class="line">            catch (Exception e)&#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class abc&#123;</span><br><span class="line">    public int a &#x3D;1;</span><br><span class="line">    private String b &#x3D; new String(&quot;abcdefg&quot;);</span><br><span class="line"></span><br><span class="line">    public void func1(int input1)&#123;</span><br><span class="line">        System.out.print(input1);</span><br><span class="line">    &#125;</span><br><span class="line">    private void func2(int input1)&#123;</span><br><span class="line">        System.out.print(input1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="è·å–æ„é€ æ–¹æ³•å¹¶æ‰§è¡Œ"><a href="#è·å–æ„é€ æ–¹æ³•å¹¶æ‰§è¡Œ" class="headerlink" title="è·å–æ„é€ æ–¹æ³•å¹¶æ‰§è¡Œ"></a>è·å–æ„é€ æ–¹æ³•å¹¶æ‰§è¡Œ</h4><p>è·å¾—æ„é€ æ–¹æ³•ï¼Œä¸»è¦æ˜¯é€šè¿‡ getConstructors()å’ŒgetDeclaredConstructors() ï¼Œåè€…èƒ½è®¿é—®ç§æœ‰å¯¹è±¡,ä¸‹é¢æ˜¯ç”¨éå†æ³•è·å¾—æ‰€æœ‰æ„é€ å‡½æ•°ä¿¡æ¯</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">import java.lang.reflect.Constructor;</span><br><span class="line"></span><br><span class="line">public class test &#123;</span><br><span class="line">    public static void main(String[] args)&#123;</span><br><span class="line">        try&#123;</span><br><span class="line">        Class clazz &#x3D; Class.forName(&quot;abc&quot;);</span><br><span class="line">        Constructor[] conArray &#x3D; clazz.getDeclaredConstructors();</span><br><span class="line">            for (Constructor a:conArray)&#123;</span><br><span class="line">                a.setAccessible(true);</span><br><span class="line">                System.out.println(a);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        catch(Exception e)&#123;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class abc&#123;</span><br><span class="line">    public abc(String name,int age)&#123;</span><br><span class="line">        System.out.println(&quot;å§“åï¼š&quot;+name+&quot;å¹´é¾„ï¼š&quot;+ age);</span><br><span class="line">    &#125;</span><br><span class="line">    private abc(int age)&#123;</span><br><span class="line">        System.out.println(&quot;ç§æœ‰çš„æ„é€ æ–¹æ³•   å¹´é¾„ï¼š&quot;+ age);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://www.const27.com/wp-content/uploads/2020/12/image-53.png" alt="img"><br>è¿è¡Œç»“æœ</p>
<p>æˆ‘ä»¬åˆšæ‰æè¿‡,getFiled()é™„å¸¦å‚æ•°å¯ä»¥æŒ‡å®šè®¿é—®æŸä¸€ä¸ªå±æ€§ï¼ŒåŒç†ï¼ŒgetConstructorä¹Ÿä¸€æ ·ï¼Œæˆ‘ä»¬æƒ³è¦æ‰§è¡ŒæŸä¸€ä¸ªç±»çš„æ„é€ æ–¹æ³•ï¼Œå¾€å¾€è¿™ä¸ªæ–¹æ³•æ›´å®ç”¨<br>è¦æ‰§è¡Œä¸€ä¸ªç±»çš„æ„é€ æ–¹æ³•ï¼Œé‚£æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªè¯¥ç±»çš„å®ä¾‹åŒ–å¯¹è±¡ï¼Œè¿™ä¸ªè¿‡ç¨‹æˆ‘ä»¬ç”¨newInstance()æ–¹æ³•å®ç°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">import java.lang.reflect.Constructor;</span><br><span class="line"></span><br><span class="line">public class test &#123;</span><br><span class="line">    public static void main(String[] args)&#123;</span><br><span class="line">        try&#123;</span><br><span class="line">        Class clazz &#x3D; Class.forName(&quot;abc&quot;);</span><br><span class="line"></span><br><span class="line">        Constructor test &#x3D; clazz.getDeclaredConstructor(int.class);  &#x2F;&#x2F;æŒ‡å®šå‚æ•°ï¼Œå³å¯ä»å¤šä¸ªé‡è½½çš„æ„é€ å‡½æ•°æŒ‡å®šåˆ°æŸä¸ªå…·ä½“çš„æ„é€ å‡½æ•°</span><br><span class="line">        test.setAccessible(true);</span><br><span class="line">        test.newInstance(12);  &#x2F;&#x2F;ç§æœ‰æ„é€ æ–¹æ³•åªéœ€è°ƒç”¨ä¸€ä¸‹newInstanceä¼ å…¥å‚æ•°å³å¯</span><br><span class="line"></span><br><span class="line">        Constructor test2 &#x3D; clazz.getDeclaredConstructor(String.class,int.class);</span><br><span class="line">        test2.newInstance(&quot;tom&quot;,15);  &#x2F;&#x2F;å…¬æœ‰æ„é€ æ–¹æ³•ä¹Ÿä¸€æ ·</span><br><span class="line">        &#125;</span><br><span class="line">        catch(Exception e)&#123;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class abc&#123;</span><br><span class="line">    public abc(String name,int age)&#123;</span><br><span class="line">        System.out.println(&quot;å§“åï¼š&quot;+name+&quot;å¹´é¾„ï¼š&quot;+ age);</span><br><span class="line">    &#125;</span><br><span class="line">    private abc(int age)&#123;</span><br><span class="line">        System.out.println(&quot;ç§æœ‰çš„æ„é€ æ–¹æ³•   å¹´é¾„ï¼š&quot;+ age);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œç»“æœ</p>
<p><img src="https://const27blog.oss-cn-beijing.aliyuncs.com/img/QQ%E6%88%AA%E5%9B%BE20210219151513.png" alt="QQæˆªå›¾20210219151513"></p>
<h2 id="åå°„çš„è¿›é˜¶ä¸å®‰å…¨"><a href="#åå°„çš„è¿›é˜¶ä¸å®‰å…¨" class="headerlink" title="åå°„çš„è¿›é˜¶ä¸å®‰å…¨"></a>åå°„çš„è¿›é˜¶ä¸å®‰å…¨</h2><h3 id="Class-forName-å®è´¨ä¸ç±»åˆå§‹åŒ–"><a href="#Class-forName-å®è´¨ä¸ç±»åˆå§‹åŒ–" class="headerlink" title="Class.forName å®è´¨ä¸ç±»åˆå§‹åŒ–"></a>Class.forName å®è´¨ä¸ç±»åˆå§‹åŒ–</h3><p>Class.forName(â€œâ€¦â€) å¸¸è¢«æˆ‘ä»¬æ‹¿æ¥è·å¾—ç±»å¯¹è±¡ï¼Œä½†æ˜¯å®é™…ä¸Šï¼ŒClass.fornameæœ‰ä¸‰ä¸ªå‚æ•°ï¼Œåªä¸è¿‡æˆ‘ä»¬é»˜è®¤è¾“ç¬¬ä¸€ä¸ªå‚æ•°ï¼šç±»åå°±èƒ½å®Œæˆå·¥ä½œäº†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">è¿™æ˜¯Class.fornNameå‡½æ•°åŸå‹</span><br><span class="line">public static Class&lt;?&gt; forName(String name, boolean initialize,</span><br><span class="line">                                   ClassLoader loader)</span><br><span class="line"></span><br><span class="line">Class.forName(className)</span><br><span class="line">&#x2F;&#x2F; ç­‰äº</span><br><span class="line">Class.forName(className, true, currentLoader)</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œæˆ‘ä»¬çœ‹è§æœ‰ä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æŒ‡å®šç±»åå°±ä¸å¤šè®²äº†ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å†³å®šç±»æ˜¯å¦åˆå§‹åŒ–ï¼ˆè¿™ä¸ªç¨åä¼šè¯¦ç»†é˜æ˜ï¼‰ï¼Œç¬¬ä¸‰ä¸ªæ˜¯ClassLoaderç±»åŠ è½½å™¨ï¼ˆå‘Šè¯‰JVMå¦‚ä½•åŠ è½½è¿™ä¸ªç±»è¿™é‡Œä¸å±•å¼€è¯´ï¼‰</p>
<p>å…³äºä¸€ä¸ªç±»çš„åˆå§‹åŒ–ï¼Œæœ‰ä¸‰ç§æ“ä½œå¯ä»¥å®ç°:æ„é€ æ–¹æ³•ï¼Œç©ºå—å’Œstaticå—ï¼Œå°±åƒè¿™æ ·</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public class TrainPrint &#123;</span><br><span class="line"> &#123;</span><br><span class="line"> System.out.printf(&quot;Empty block initial %s\n&quot;, this.getClass());</span><br><span class="line"> &#125;</span><br><span class="line"> static &#123;</span><br><span class="line"> System.out.printf(&quot;Static initial %s\n&quot;, TrainPrint.class);</span><br><span class="line"> &#125;</span><br><span class="line"> public TrainPrint() &#123;</span><br><span class="line"> System.out.printf(&quot;Initial %s\n&quot;, this.getClass());</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é‚£ä¹ˆæ‰§è¡Œé¡ºåºæ˜¯å¦‚ä½•å‘¢ï¼Œåœ¨å¼•å…¥çˆ¶ç±»çš„æƒ…å†µä¸‹åˆæ˜¯å¦‚ä½•å‘¢ï¼Ÿæˆ‘ä»¬å†™ä¸ªdemoçœ‹çœ‹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">import java.lang.reflect.Constructor;</span><br><span class="line"></span><br><span class="line">public class test &#123;</span><br><span class="line">    public static void main(String[] args)&#123;</span><br><span class="line">        abc a &#x3D; new abc();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class b&#123;</span><br><span class="line">    &#123;</span><br><span class="line">        System.out.println(&quot;bç©ºå—å·²æ‰§è¡Œ&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    static&#123;</span><br><span class="line">        System.out.println(&quot; b staticå—å·²æ‰§è¡Œ&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    public b()&#123;</span><br><span class="line">        System.out.println(&quot;bç±»æ„é€ æ–¹æ³•å·²æ‰§è¡Œ&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class abc extends b&#123;</span><br><span class="line">    &#123;</span><br><span class="line">        System.out.println(&quot;aç©ºå—å·²æ‰§è¡Œ&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    static&#123;</span><br><span class="line">        System.out.println(&quot; a staticå—å·²æ‰§è¡Œ&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public abc() &#123;</span><br><span class="line">        System.out.println(&quot;aåˆå§‹åŒ–æ–¹æ³•å·²æ‰§è¡Œ&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://const27blog.oss-cn-beijing.aliyuncs.com/img/QQ%E6%88%AA%E5%9B%BE20210219151831.png" alt="QQæˆªå›¾20210219151831"></p>
<p>æˆ‘ä»¬å¯ä»¥æ¸…æ™°çš„çœ‹åˆ°æ‰§è¡Œé¡ºåºï¼Œå¯¹ç»§æ‰¿ç±»æ¥è¯´ï¼Œ<br>1.ä¼šå…ˆæ‰§è¡Œçˆ¶ç±»staticå—<br>2.æ‰§è¡Œè‡ªå·±çš„staticå—<br>3.æ‰§è¡Œçˆ¶ç±»ç©ºå¿«<br>4.æ‰§è¡Œçˆ¶ç±»æ„é€ æ–¹æ³•<br>5.æ‰§è¡Œè‡ªå·±ç©ºå¿«<br>6.æ‰§è¡Œè‡ªå·±æ„é€ æ–¹æ³•</p>
<p>å¯¹äºä¸€ä¸ªç±»æ¥è¯´ï¼Œæ‰§è¡Œé¡ºåºåˆ™æ˜¯<br>1.æ‰§è¡Œstaticå—<br>2.æ‰§è¡Œç©ºå¿«<br>3.æ‰§è¡Œæ„é€ æ–¹æ³•</p>
<p>é‚£ä¹ˆå¯¹äºClass.forNameæŒ‡å®šçš„æ˜¯å¦è¿›è¡Œç±»åˆå§‹åŒ–å‚æ•°ï¼ŒæŒ‡çš„æ˜¯å“ªä¸ªéƒ¨åˆ†ï¼Ÿstaticå—ï¼Œç©ºå—è¿˜æ˜¯æ„é€ æ–¹æ³•?ç­”æ¡ˆæ˜¯åªä¼šæ‰§è¡Œstaticå—é‡Œçš„ï¼Œä¸”ä¼šä¼˜å…ˆæ‰§è¡Œçˆ¶ç±»çš„staticå—ã€‚<br>æˆ‘ä»¬æŠŠä¸Šé¢ä»£ç ä¸­çš„ä¸»å‡½æ•°æ›¿æ¢ä¸º</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">try &#123;</span><br><span class="line">    Class clazz &#x3D; Class.forName(&quot;abc&quot;);</span><br><span class="line">&#125;</span><br><span class="line">catch (Exception e)&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œä¸€ä¸‹ï¼Œçœ‹ç»“æœã€‚å‘ç°åªæ‰§è¡Œäº†staticå—</p>
<p><img src="https://const27blog.oss-cn-beijing.aliyuncs.com/img/QQ%E6%88%AA%E5%9B%BE20210219151840.png" alt="QQæˆªå›¾20210219151840"></p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼ŒClass.forName()ä¼šé»˜è®¤æ‰§è¡Œç±»çš„staticä»£ç å—ï¼Œæ˜¯ä¸ªæ¯”è¾ƒå±é™©çš„ä¿¡å·ã€‚</p>
<h3 id="Runtimeæ‰§è¡Œå‘½ä»¤è§£æ"><a href="#Runtimeæ‰§è¡Œå‘½ä»¤è§£æ" class="headerlink" title="Runtimeæ‰§è¡Œå‘½ä»¤è§£æ"></a>Runtimeæ‰§è¡Œå‘½ä»¤è§£æ</h3><p>ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬è°ƒç”¨Runtimeç±»æ¥æ‰§è¡Œå‘½ä»¤æ—¶çš„æŒ‡å®šæ˜¯è¿™æ ·çš„</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Runtime.getRuntime().exe()</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬åˆ°æºç é‡Œåˆ†æè¿™æ®µä»£ç </p>
<p><img src="https://const27blog.oss-cn-beijing.aliyuncs.com/img/QQ%E6%88%AA%E5%9B%BE20210219151850.png" alt="QQæˆªå›¾20210219151850"></p>
<p>å¯è§ï¼Œå½“æˆ‘ä»¬å¯¹Runtimeç±»æ‰§è¡ŒgetRuntime()æ—¶ä¼šå¾—åˆ°ä¸€ä¸ªRuntimeå¯¹è±¡ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥è°ƒç”¨æˆ‘ä»¬çš„execæ–¹æ³•äº†<br>åŒæ—¶ï¼ŒRuntime() è¢«privateä¿®é¥°ç¬¦ä¿®é¥°äº†ï¼Œè¿™è¯´æ˜æˆ‘ä»¬æ— æ³•é€šè¿‡Runtime a = new Runtime()æ¥å®ç°ä¸€ä¸ªRuntimeçš„å¯¹è±¡ã€‚<br>æ‰€ä»¥è¯´ï¼Œæˆ‘ä»¬æ­£å¸¸åœ°ä½¿ç”¨runtimeæ¥æ‰§è¡Œå‘½ä»¤åªèƒ½ä¾é ä»¥ä¸Šä»£ç ã€‚</p>
<p>é‚£ä¹ˆæˆ‘ä»¬è¦æ˜¯æƒ³è¦ä¾é åå°„æ¥å†™ä¸€ä¸ªRuntimeæ‰§è¡Œä»»æ„å‘½ä»¤çš„payloadï¼Œé‚£ä¹ˆè¯¥å¦‚ä½•å†™å‘¢ï¼Ÿ</p>
<p>å…ˆæ¥ä¸€ä¸ªé”™è¯¯ç¤ºèŒƒï¼Œå½“æˆ‘ä»¬ç”¨å¸¸è§„çš„æ€è·¯å»å®ç°æ—¶ã€‚æˆ‘ä»¬ç›´æ¥è°ƒç”¨Runtimeç±»é‡Œçš„execæ–¹æ³•ï¼Œç„¶åé€šè¿‡newInstanceæ¥å®ä¾‹åŒ–ä¸€ä¸ªRuntimeå¯¹è±¡</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Class clazz &#x3D; Class.forName(&quot;java.lang.Runtime&quot;);</span><br><span class="line">Method method &#x3D; clazz.getMethod(&quot;exec&quot;, String.class);</span><br><span class="line">method.setAccessible(true);</span><br><span class="line">method.invoke(clazz.newInstance(),&quot;calc.exe&quot;);</span><br></pre></td></tr></table></figure>
<p>æœ€ç»ˆç»“æœåˆ™æ˜¯æŠ¥é”™ï¼šclass test cannot access a member of class java.lang.Runtime (in module java.base) with modifiers â€œprivateâ€<br>çœ‹æ¥é€šè¿‡åå°„ä¹Ÿä¸èƒ½ç›´æ¥è°ƒç”¨execæ–¹æ³•ï¼Œæˆ–è€…è¯´ä¸èƒ½å®ä¾‹åŒ–Runtimeå¯¹è±¡ã€‚<br>é‚£ä¹ˆæ­£ç¡®æ€è·¯è¯¥æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿåº”è¯¥æ˜¯å…ˆè°ƒç”¨getRuntimeè·å¾—Runtimeå¯¹è±¡ï¼Œç„¶åå†è°ƒç”¨execæ–¹æ³•</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Class clazz &#x3D; Class.forName(&quot;java.lang.Runtime&quot;);</span><br><span class="line">Method MgetRuntime &#x3D; clazz.getMethod(&quot;getRuntime&quot;);</span><br><span class="line">Object runtime &#x3D; MgetRuntime.invoke(clazz);  &#x2F;&#x2F;å¯¹ç±»å¯¹è±¡ä½¿ç”¨getRuntime(),å…¶å®å°±ç›¸å½“äºRuntime.getRuntime()ã€‚è¿™ç§æ–¹å¼ä»…é™staticæ–¹æ³•</span><br><span class="line">Method Mexec &#x3D; clazz.getMethod(&quot;exec&quot;, String.class);</span><br><span class="line">Mexec.invoke(runtime,&quot;calc.exe&quot;);</span><br></pre></td></tr></table></figure>
<p>æœ€ç»ˆå¼¹å‡ºè®¡ç®—å™¨ã€‚</p>
<h3 id="ProcessBuilderæ‰§è¡Œå‘½ä»¤çš„åå°„å®ç°"><a href="#ProcessBuilderæ‰§è¡Œå‘½ä»¤çš„åå°„å®ç°" class="headerlink" title="ProcessBuilderæ‰§è¡Œå‘½ä»¤çš„åå°„å®ç°"></a>ProcessBuilderæ‰§è¡Œå‘½ä»¤çš„åå°„å®ç°</h3><p>é™¤äº†Runtimeä»¥å¤–ï¼Œè¿˜å¯ä»¥ç”¨ProcessBuilderç±»æ¥æ‰§è¡Œå‘½ä»¤ã€‚<br>å®ƒçš„æ­£å¸¸æƒ…å†µä½¿ç”¨å¦‚ä¸‹.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ProcessBuilder pb &#x3D; new ProcessBuilder(&quot;calc.exe&quot;);</span><br><span class="line">pb.start();</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹ProcessBuilderçš„æ„é€ æ–¹æ³•ï¼Œå®ƒçš„æ„é€ æ–¹æ³•æœ‰å¾ˆå¤šä¸ªé‡è½½ï¼Œæˆ‘ä»¬åˆ†æä¸€ä¸ªå§ã€‚</p>
<p><img src="https://const27blog.oss-cn-beijing.aliyuncs.com/img/QQ%E6%88%AA%E5%9B%BE20210219151901.png" alt="QQæˆªå›¾20210219151901"></p>
<p>å¯è§ï¼ŒProcessBuilderçš„æ„é€ æ–¹æ³•æŠŠä¼ å…¥å‚æ•°ä¿å­˜åˆ°äº†commandå±æ€§é‡Œï¼Œç„¶åcommadä¼šè¢«ä»¥ç³»ç»Ÿå‘½ä»¤è°ƒç”¨ï¼ˆè¿™éƒ¨åˆ†ä»£ç å°±ä¸è´´å‡ºæ¥äº†ï¼‰ã€‚</p>
<p>é‚£ä¹ˆä»¥åå°„çš„å½¢å¼è¯¥å¦‚ä½•å®ç°å‘¢ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Class clazz &#x3D; Class.forName(&quot;java.lang.ProcessBuilder&quot;);</span><br><span class="line">            Method start &#x3D; clazz.getMethod(&quot;start&quot;);</span><br><span class="line">            start.invoke(clazz.getConstructor(List.class).newInstance(Arrays.asList(&quot;cmd.exe&quot;))); </span><br></pre></td></tr></table></figure>
<h1 id="Servlet"><a href="#Servlet" class="headerlink" title="Servlet"></a>Servlet</h1><h3 id="Servletç”Ÿå‘½å‘¨æœŸ"><a href="#Servletç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="Servletç”Ÿå‘½å‘¨æœŸ"></a>Servletç”Ÿå‘½å‘¨æœŸ</h3><h4 id="1-è°ƒç”¨init-æ–¹æ³•è¿›è¡Œåˆå§‹åŒ–"><a href="#1-è°ƒç”¨init-æ–¹æ³•è¿›è¡Œåˆå§‹åŒ–" class="headerlink" title="1.è°ƒç”¨init()æ–¹æ³•è¿›è¡Œåˆå§‹åŒ–"></a>1.è°ƒç”¨init()æ–¹æ³•è¿›è¡Œåˆå§‹åŒ–</h4><p>init()æ–¹æ³•åœ¨ç¬¬ä¸€æ¬¡åˆ›å»ºservletæ—¶è¢«è°ƒç”¨ï¼Œç”¨äºè¿›è¡Œåˆå§‹åŒ–æ“ä½œã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public void init() throws ServletException&#123;...code...&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-è°ƒç”¨service-æ–¹æ³•å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚"><a href="#2-è°ƒç”¨service-æ–¹æ³•å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚" class="headerlink" title="2.è°ƒç”¨service()æ–¹æ³•å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚"></a>2.è°ƒç”¨service()æ–¹æ³•å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚</h4><p>webæœåŠ¡å™¨ï¼Œå³servletå®¹å™¨è°ƒç”¨service()æ–¹æ³•å¤„ç†æ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œå¹¶è¿”å›å“åº”ã€‚åŒæ—¶æ ¹æ®å®¢æˆ·ç«¯è¯·æ±‚çš„ç±»å‹ï¼ˆGetï¼ŒPostï¼Œdeleteç­‰ï¼‰ï¼Œåšå‡ºä¸åŒçš„è¡Œä¸ºï¼Œè¿™äº›è¡Œä¸ºæ˜¯ç”±serviceæ–¹æ³•æŠ½è±¡å‡ºçš„å…¶ä»–æ–¹æ³•ï¼ˆdoGetï¼ŒdoPostç­‰ï¼‰ã€‚<br>æ‰€ä»¥è¿™é‡Œè¯´çš„è°ƒç”¨service()æ–¹æ³•ä¹Ÿå°±æ˜¯ç­‰åŒäºè°ƒç”¨doGetï¼ŒdoPostç­‰æ–¹æ³•ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">doPost,doDeleteç­‰æ–¹æ³•çš„å®šä¹‰å½¢åŒäºä¸‹</span><br><span class="line">public void doGet(HttpServletRequest request,HttpServletResponse response) throws ServletException,IOException&#123;...code...&#125;</span><br></pre></td></tr></table></figure>
<h4 id="3-è°ƒç”¨distroy-åœ¨Servleté”€æ¯å‰å®Œæˆæ¸…ç†æ´»åŠ¨"><a href="#3-è°ƒç”¨distroy-åœ¨Servleté”€æ¯å‰å®Œæˆæ¸…ç†æ´»åŠ¨" class="headerlink" title="3.è°ƒç”¨distroy()åœ¨Servleté”€æ¯å‰å®Œæˆæ¸…ç†æ´»åŠ¨"></a>3.è°ƒç”¨distroy()åœ¨Servleté”€æ¯å‰å®Œæˆæ¸…ç†æ´»åŠ¨</h4><p>distrtoy()å‡½æ•°åªè°ƒç”¨ä¸€æ¬¡ï¼Œåœ¨Servletè¢«é”€æ¯å‰å®Œæˆåå°çº¿ç¨‹åœæ­¢ï¼Œæ•°æ®åº“é“¾æ¥å…³é—­ç­‰ä¸€ç³»åˆ—æ¸…ç†å·¥ä½œã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public void destroy() &#123;</span><br><span class="line">  &#x2F;&#x2F; ç»ˆæ­¢åŒ–ä»£ç ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ç¼–å†™ä¸€ä¸ªç®€å•çš„Servlet"><a href="#ç¼–å†™ä¸€ä¸ªç®€å•çš„Servlet" class="headerlink" title="ç¼–å†™ä¸€ä¸ªç®€å•çš„Servlet"></a>ç¼–å†™ä¸€ä¸ªç®€å•çš„Servlet</h3><p>æˆ‘ä»¬å†™ä¸€ä¸ªç¨‹åºï¼Œç”¨æ¥æ§åˆ¶Getè¯·æ±‚çš„å“åº”</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">import javax.servlet.*;</span><br><span class="line">import javax.servlet.annotation.WebServlet;</span><br><span class="line">import javax.servlet.http.*;</span><br><span class="line">import java.io.*;</span><br><span class="line"></span><br><span class="line">@WebServlet(&quot;&#x2F;a&quot;)    &#x2F;&#x2F;ç”¨äºè®¾å®šè·¯ç”±</span><br><span class="line">public class test extends HttpServlet &#123;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void doGet(HttpServletRequest request,</span><br><span class="line">                      HttpServletResponse response)</span><br><span class="line">            throws ServletException, IOException</span><br><span class="line">    &#123;</span><br><span class="line">        response.setContentType(&quot;text&#x2F;html&quot;);</span><br><span class="line"></span><br><span class="line">        PrintWriter out &#x3D; response.getWriter();</span><br><span class="line">        out.println(&quot;&lt;h1&gt;&quot; + &quot;a&quot; + &quot;&lt;&#x2F;h1&gt;&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è‡³äºéƒ¨ç½²æˆ‘æ˜¯å‚è€ƒçš„è¿™ä¸ªæ–‡ç« <a target="_blank" rel="noopener" href="https://blog.csdn.net/gaoqingliang521/article/details/108677301">https://blog.csdn.net/gaoqingliang521/article/details/108677301</a><br>æˆ‘çš„ç‰ˆæœ¬æ—¶idea 2020.2ï¼Œå¯èƒ½ä¼šæœ‰å‡ºå…¥ã€‚</p>
<h3 id="å¤„ç†ä¼ å‚"><a href="#å¤„ç†ä¼ å‚" class="headerlink" title="å¤„ç†ä¼ å‚"></a>å¤„ç†ä¼ å‚</h3><p>servletå¤„ç†ä¼ å‚ä¸»è¦æ˜¯é€šè¿‡doGetå’ŒdoPostæ–¹æ³•è¿›è¡Œçš„ã€‚<br>æ¥æ”¶å‚æ•°å€¼ä¸»è¦æ˜¯é ä¸‹é¢çš„æ–¹æ³•</p>
<ul>
<li><strong>getParameter()ï¼š</strong>æ‚¨å¯ä»¥è°ƒç”¨ request.getParameter() æ–¹æ³•æ¥è·å–è¡¨å•å‚æ•°çš„å€¼ã€‚</li>
<li><strong>getParameterValues()ï¼š</strong>å¦‚æœå‚æ•°å‡ºç°ä¸€æ¬¡ä»¥ä¸Šï¼Œåˆ™è°ƒç”¨è¯¥æ–¹æ³•ï¼Œå¹¶è¿”å›å¤šä¸ªå€¼ï¼Œä¾‹å¦‚å¤é€‰æ¡†ã€‚</li>
<li><strong>getParameterNames()ï¼š</strong>å¦‚æœæ‚¨æƒ³è¦å¾—åˆ°å½“å‰è¯·æ±‚ä¸­çš„æ‰€æœ‰å‚æ•°çš„å®Œæ•´åˆ—è¡¨ï¼Œåˆ™è°ƒç”¨è¯¥æ–¹æ³•ã€‚</li>
</ul>
<p>æˆ‘ä»¬å†™ä¸ªdemoè¯•è¯•</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">import javax.servlet.*;</span><br><span class="line">import javax.servlet.annotation.WebServlet;</span><br><span class="line">import javax.servlet.http.*;</span><br><span class="line">import java.io.*;</span><br><span class="line"></span><br><span class="line">@WebServlet(&quot;&#x2F;a&quot;)</span><br><span class="line">public class test extends HttpServlet &#123;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException</span><br><span class="line">    &#123;</span><br><span class="line">        response.setContentType(&quot;text&#x2F;html&quot;);</span><br><span class="line">        PrintWriter out &#x3D; response.getWriter();</span><br><span class="line">        String name &#x3D; new String(request.getParameter(&quot;name&quot;));</span><br><span class="line">        out.println(&quot;your name is &quot;+name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªdemoä¸»è¦ç”¨äºæ¥æ”¶getæ•°æ®ï¼Œå¹¶åšå‡ºä¸€äº›å¤„ç†è¿”å›.<br>é‚£ä¹ˆå¦‚ä½•æ¥æ”¶POSTæ•°æ®å‘¢ï¼Ÿå’ŒdoGetå·®ä¸å¤š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">import javax.servlet.*;</span><br><span class="line">import javax.servlet.annotation.WebServlet;</span><br><span class="line">import javax.servlet.http.*;</span><br><span class="line">import java.io.*;</span><br><span class="line"></span><br><span class="line">@WebServlet(&quot;&#x2F;a&quot;)</span><br><span class="line">public class test extends HttpServlet &#123;</span><br><span class="line">    </span><br><span class="line">    public void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException</span><br><span class="line">    &#123;</span><br><span class="line">        response.setContentType(&quot;text&#x2F;html&quot;);</span><br><span class="line">        PrintWriter out &#x3D; response.getWriter();</span><br><span class="line">        String name &#x3D; new String(request.getParameter(&quot;name&quot;));</span><br><span class="line">        out.println(&quot;[Post]your name is &quot;+name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œçš„request.getParameter(&quot;name&quot;)ä¼šä¼˜å…ˆé€‰æ‹©åœ¨urlé‡Œçš„å‚æ•°ï¼Œè€Œä¸æ˜¯httpåŒ…ä½“çš„å‚æ•°</span><br></pre></td></tr></table></figure>
<p><img src="https://const27blog.oss-cn-beijing.aliyuncs.com/img/QQ%E6%88%AA%E5%9B%BE20210219152111.png" alt="QQæˆªå›¾20210219152111"></p>
<h3 id="cookie-amp-session"><a href="#cookie-amp-session" class="headerlink" title="cookie&amp;session"></a>cookie&amp;session</h3><h4 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h4><p>cookieçš„ä¸»è¦æ–¹æ³•å¦‚ä¸‹</p>
<table>
<thead>
<tr>
<th align="left">åºå·</th>
<th align="left">æ–¹æ³• &amp; æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left"><strong>public void setDomain(String pattern)</strong> è¯¥æ–¹æ³•è®¾ç½® cookie é€‚ç”¨çš„åŸŸï¼Œä¾‹å¦‚ runoob.comã€‚</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left"><strong>public String getDomain()</strong> è¯¥æ–¹æ³•è·å– cookie é€‚ç”¨çš„åŸŸï¼Œä¾‹å¦‚ runoob.comã€‚</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left"><strong>public void setMaxAge(int expiry)</strong> è¯¥æ–¹æ³•è®¾ç½® cookie è¿‡æœŸçš„æ—¶é—´ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰ã€‚å¦‚æœä¸è¿™æ ·è®¾ç½®ï¼Œcookie åªä¼šåœ¨å½“å‰ session ä¼šè¯ä¸­æŒç»­æœ‰æ•ˆã€‚</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left"><strong>public int getMaxAge()</strong> è¯¥æ–¹æ³•è¿”å› cookie çš„æœ€å¤§ç”Ÿå­˜å‘¨æœŸï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œ-1 è¡¨ç¤º cookie å°†æŒç»­ä¸‹å»ï¼Œç›´åˆ°æµè§ˆå™¨å…³é—­ã€‚</td>
</tr>
<tr>
<td align="left">5</td>
<td align="left"><strong>public String getName()</strong> è¯¥æ–¹æ³•è¿”å› cookie çš„åç§°ã€‚åç§°åœ¨åˆ›å»ºåä¸èƒ½æ”¹å˜ã€‚</td>
</tr>
<tr>
<td align="left">6</td>
<td align="left"><strong>public void setValue(String newValue)</strong> è¯¥æ–¹æ³•è®¾ç½®ä¸ cookie å…³è”çš„å€¼ã€‚</td>
</tr>
<tr>
<td align="left">7</td>
<td align="left"><strong>public String getValue()</strong> è¯¥æ–¹æ³•è·å–ä¸ cookie å…³è”çš„å€¼ã€‚</td>
</tr>
<tr>
<td align="left">8</td>
<td align="left"><strong>public void setPath(String uri)</strong> è¯¥æ–¹æ³•è®¾ç½® cookie é€‚ç”¨çš„è·¯å¾„ã€‚å¦‚æœæ‚¨ä¸æŒ‡å®šè·¯å¾„ï¼Œä¸å½“å‰é¡µé¢ç›¸åŒç›®å½•ä¸‹çš„ï¼ˆåŒ…æ‹¬å­ç›®å½•ä¸‹çš„ï¼‰æ‰€æœ‰ URL éƒ½ä¼šè¿”å› cookieã€‚</td>
</tr>
<tr>
<td align="left">9</td>
<td align="left"><strong>public String getPath()</strong> è¯¥æ–¹æ³•è·å– cookie é€‚ç”¨çš„è·¯å¾„ã€‚</td>
</tr>
<tr>
<td align="left">10</td>
<td align="left"><strong>public void setSecure(boolean flag)</strong> è¯¥æ–¹æ³•è®¾ç½®å¸ƒå°”å€¼ï¼Œè¡¨ç¤º cookie æ˜¯å¦åº”è¯¥åªåœ¨åŠ å¯†çš„ï¼ˆå³ SSLï¼‰è¿æ¥ä¸Šå‘é€ã€‚</td>
</tr>
<tr>
<td align="left">11</td>
<td align="left"><strong>public void setComment(String purpose)</strong> è®¾ç½®cookieçš„æ³¨é‡Šã€‚è¯¥æ³¨é‡Šåœ¨æµè§ˆå™¨å‘ç”¨æˆ·å‘ˆç° cookie æ—¶éå¸¸æœ‰ç”¨ã€‚</td>
</tr>
<tr>
<td align="left">12</td>
<td align="left"><strong>public String getComment()</strong> è·å– cookie çš„æ³¨é‡Šï¼Œå¦‚æœ cookie æ²¡æœ‰æ³¨é‡Šåˆ™è¿”å› nullã€‚</td>
</tr>
</tbody></table>
<p>æˆ‘ä»¬é©¬ä¸Šå†™ä¸€ä¸ªdemoï¼Œè¿™ä¸ªdemoä¼šç”¨åˆ° response.addCookieç”¨äºåœ¨å“åº”å¤´é‡Œæ·»åŠ cookieï¼Œcookie.setMaxAge ç”¨äºè®¾ç½®cookieçš„æœ‰æ•ˆæœŸï¼Œrequest.getCookies ç”¨äºè·å–è¯·æ±‚é‡Œçš„cookieæ•°ç»„<br>è¿™é‡Œçš„demoæœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªç”¨äºæ·»åŠ cookieï¼Œä¸€ä¸ªç”¨äºè¾“å‡ºcookie</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">ç”¨äºæ·»åŠ cookie</span><br><span class="line">import javax.servlet.*;</span><br><span class="line">import javax.servlet.annotation.WebServlet;</span><br><span class="line">import javax.servlet.http.*;</span><br><span class="line">import java.io.*;</span><br><span class="line"></span><br><span class="line">@WebServlet(&quot;&#x2F;a&quot;)</span><br><span class="line">public class test extends HttpServlet &#123;</span><br><span class="line"></span><br><span class="line">    public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">        Cookie name &#x3D; new Cookie(&quot;name&quot;, request.getParameter(&quot;name&quot;)); &#x2F;&#x2F; ä¸­æ–‡è½¬ç </span><br><span class="line"></span><br><span class="line">        name.setMaxAge(60*60*24);</span><br><span class="line"></span><br><span class="line">        response.addCookie( name );</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">è¾“å‡ºcookieå€¼</span><br><span class="line">import javax.servlet.*;</span><br><span class="line">import javax.servlet.annotation.WebServlet;</span><br><span class="line">import javax.servlet.http.*;</span><br><span class="line">import java.io.*;</span><br><span class="line"></span><br><span class="line">@WebServlet(&quot;&#x2F;b&quot;)</span><br><span class="line">public class test2 extends HttpServlet &#123;</span><br><span class="line"></span><br><span class="line">    public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">        Cookie cookie &#x3D; null;</span><br><span class="line">        Cookie[] cookies &#x3D; null;</span><br><span class="line">        &#x2F;&#x2F; è·å–ä¸è¯¥åŸŸç›¸å…³çš„ Cookie çš„æ•°ç»„</span><br><span class="line">        cookies &#x3D; request.getCookies();</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; è®¾ç½®å“åº”å†…å®¹ç±»å‹</span><br><span class="line">        response.setContentType(&quot;text&#x2F;html;charset&#x3D;UTF-8&quot;);</span><br><span class="line"></span><br><span class="line">        PrintWriter out &#x3D; response.getWriter();</span><br><span class="line">            for (int i &#x3D; 0; i &lt; cookies.length; i++)&#123;</span><br><span class="line">                if((cookies[i].getName()).compareTo(&quot;name&quot;)&#x3D;&#x3D;0)&#123;</span><br><span class="line">                    out.println(&quot;your name is &quot;+cookies[i].getValue());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://const27blog.oss-cn-beijing.aliyuncs.com/img/QQ%E6%88%AA%E5%9B%BE20210219152122.png" alt="QQæˆªå›¾20210219152122"></p>
<h4 id="session"><a href="#session" class="headerlink" title="session"></a>session</h4><p>servleæä¾›äº†ä¸€ç³»åˆ—sessionæ¥å£è¾…åŠ©è¿™ä¸ªæµç¨‹</p>
<table>
<thead>
<tr>
<th>1</th>
<th><strong>public Object getAttribute(String name)</strong> è¯¥æ–¹æ³•è¿”å›åœ¨è¯¥ session ä¼šè¯ä¸­å…·æœ‰æŒ‡å®šåç§°çš„å¯¹è±¡ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šåç§°çš„å¯¹è±¡ï¼Œåˆ™è¿”å› nullã€‚</th>
</tr>
</thead>
<tbody><tr>
<td>2</td>
<td><strong>public Enumeration getAttributeNames()</strong> è¯¥æ–¹æ³•è¿”å› String å¯¹è±¡çš„æšä¸¾ï¼ŒString å¯¹è±¡åŒ…å«æ‰€æœ‰ç»‘å®šåˆ°è¯¥ session ä¼šè¯çš„å¯¹è±¡çš„åç§°ã€‚</td>
</tr>
<tr>
<td>3</td>
<td><strong>public long getCreationTime()</strong> è¯¥æ–¹æ³•è¿”å›è¯¥ session ä¼šè¯è¢«åˆ›å»ºçš„æ—¶é—´ï¼Œè‡ªæ ¼æ—å°¼æ²»æ ‡å‡†æ—¶é—´ 1970 å¹´ 1 æœˆ 1 æ—¥åˆå¤œç®—èµ·ï¼Œä»¥æ¯«ç§’ä¸ºå•ä½ã€‚</td>
</tr>
<tr>
<td>4</td>
<td><strong>public String getId()</strong> è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªåŒ…å«åˆ†é…ç»™è¯¥ session ä¼šè¯çš„å”¯ä¸€æ ‡è¯†ç¬¦çš„å­—ç¬¦ä¸²ã€‚</td>
</tr>
<tr>
<td>5</td>
<td><strong>public long getLastAccessedTime()</strong> è¯¥æ–¹æ³•è¿”å›å®¢æˆ·ç«¯æœ€åä¸€æ¬¡å‘é€ä¸è¯¥ session ä¼šè¯ç›¸å…³çš„è¯·æ±‚çš„æ—¶é—´è‡ªæ ¼æ—å°¼æ²»æ ‡å‡†æ—¶é—´ 1970 å¹´ 1 æœˆ 1 æ—¥åˆå¤œç®—èµ·ï¼Œä»¥æ¯«ç§’ä¸ºå•ä½ã€‚</td>
</tr>
<tr>
<td>6</td>
<td><strong>public int getMaxInactiveInterval()</strong> è¯¥æ–¹æ³•è¿”å› Servlet å®¹å™¨åœ¨å®¢æˆ·ç«¯è®¿é—®æ—¶ä¿æŒ session ä¼šè¯æ‰“å¼€çš„æœ€å¤§æ—¶é—´é—´éš”ï¼Œä»¥ç§’ä¸ºå•ä½ã€‚</td>
</tr>
<tr>
<td>7</td>
<td><strong>public void invalidate()</strong> è¯¥æ–¹æ³•æŒ‡ç¤ºè¯¥ session ä¼šè¯æ— æ•ˆï¼Œå¹¶è§£é™¤ç»‘å®šåˆ°å®ƒä¸Šé¢çš„ä»»ä½•å¯¹è±¡ã€‚</td>
</tr>
<tr>
<td>8</td>
<td><strong>public boolean isNew()</strong> å¦‚æœå®¢æˆ·ç«¯è¿˜ä¸çŸ¥é“è¯¥ session ä¼šè¯ï¼Œæˆ–è€…å¦‚æœå®¢æˆ·é€‰æ‹©ä¸å‚å…¥è¯¥ session ä¼šè¯ï¼Œåˆ™è¯¥æ–¹æ³•è¿”å› trueã€‚</td>
</tr>
<tr>
<td>9</td>
<td><strong>public void removeAttribute(String name)</strong> è¯¥æ–¹æ³•å°†ä»è¯¥ session ä¼šè¯ç§»é™¤æŒ‡å®šåç§°çš„å¯¹è±¡ã€‚</td>
</tr>
<tr>
<td>10</td>
<td><strong>public void setAttribute(String name, Object value)</strong> è¯¥æ–¹æ³•ä½¿ç”¨æŒ‡å®šçš„åç§°ç»‘å®šä¸€ä¸ªå¯¹è±¡åˆ°è¯¥ session ä¼šè¯ã€‚</td>
</tr>
<tr>
<td>11</td>
<td><strong>public void setMaxInactiveInterval(int interval)</strong> è¯¥æ–¹æ³•åœ¨ Servlet å®¹å™¨æŒ‡ç¤ºè¯¥ session ä¼šè¯æ— æ•ˆä¹‹å‰ï¼ŒæŒ‡å®šå®¢æˆ·ç«¯è¯·æ±‚ä¹‹é—´çš„æ—¶é—´ï¼Œä»¥ç§’ä¸ºå•ä½ã€‚</td>
</tr>
</tbody></table>
<p>å†™ä¸ªdemoå§ï¼Œè¿‡ä¸€è¿‡å°±è¡Œäº†</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">import javax.servlet.*;</span><br><span class="line">import javax.servlet.annotation.WebServlet;</span><br><span class="line">import javax.servlet.http.*;</span><br><span class="line">import java.io.*;</span><br><span class="line">import java.text.*;</span><br><span class="line">import java.util.*;</span><br><span class="line"></span><br><span class="line">@WebServlet(&quot;&#x2F;a&quot;)</span><br><span class="line">public class test extends HttpServlet &#123;</span><br><span class="line"></span><br><span class="line">    public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">        HttpSession session &#x3D; request.getSession(); &#x2F;&#x2F;åˆ›å»ºä¸€ä¸ªsessionå¯¹è±¡</span><br><span class="line">        Date createtime &#x3D; new Date(session.getCreationTime());</span><br><span class="line">        Date lastAccessTime &#x3D; new Date(session.getLastAccessedTime());</span><br><span class="line">        PrintWriter out &#x3D; response.getWriter();</span><br><span class="line"></span><br><span class="line">        SimpleDateFormat df &#x3D; new SimpleDateFormat(&quot;yyyy-MM-dd:mm:ss&quot;);</span><br><span class="line">        String countkey &#x3D; new String(&quot;key&quot;);  &#x2F;&#x2F;è®¿é—®æ¬¡æ•°çš„é”®</span><br><span class="line">        Integer count &#x3D; Integer.valueOf(0);   &#x2F;&#x2F;è®¿é—®æ¬¡æ•°çš„å€¼</span><br><span class="line">        String userID &#x3D; new String(&quot;Tom&quot;);    &#x2F;&#x2F;ç”¨æˆ·IDçš„å€¼</span><br><span class="line">        String userIDKey &#x3D; new String(&quot;userIDKey&quot;);   &#x2F;&#x2F;ç”¨æˆ·IDçš„é”®</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        if(session.getAttribute(countkey)&#x3D;&#x3D;null)&#123;   &#x2F;&#x2F;å¦‚æœè·å¾—è¯¥sessionçš„countkeyè¿™ä¸ªé”®çš„å€¼ä¸å­˜åœ¨æ—¶ï¼Œä¸ºå½“å‰sessionåˆå§‹åŒ–è¿™ä¸ªé”®</span><br><span class="line">            session.setAttribute(countkey,Integer.valueOf(0));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if(session.isNew())&#123;   &#x2F;&#x2F;å¦‚æœsessionæ˜¯ç¬¬ä¸€æ¬¡åˆ›å»ºï¼Œåˆ™ä¸ºå…¶åˆå§‹åŒ–userIDé”®</span><br><span class="line">            session.setAttribute(userIDKey,userID);</span><br><span class="line">        &#125;</span><br><span class="line">        else&#123;</span><br><span class="line">            count &#x3D; (Integer) session.getAttribute(countkey);</span><br><span class="line">            count &#x3D; count+1;</span><br><span class="line">            userID &#x3D; (String)session.getAttribute(userIDKey);</span><br><span class="line">        &#125;</span><br><span class="line">        session.setAttribute(countkey,count);</span><br><span class="line">        out.println(&quot;hello&quot;+userID+&quot;\nthis is the &quot;+count+&quot; to visit this website\n&quot;);</span><br><span class="line">        out.println(&quot;first time:&quot;+createtime+&quot;\n this time:&quot;+lastAccessTime);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="JSP"><a href="#JSP" class="headerlink" title="JSP"></a>JSP</h1><h3 id="æ¦‚è§ˆ"><a href="#æ¦‚è§ˆ" class="headerlink" title="æ¦‚è§ˆ"></a>æ¦‚è§ˆ</h3><p>JSPæ˜¯è„šæœ¬è¯­è¨€ï¼Œä¸PHPç­‰è¯­è¨€ç±»ä¼¼ã€‚JSPæœ¬è´¨å°±æ˜¯servletï¼Œå®ƒå­˜åœ¨çš„æ„ä¹‰å°±æ˜¯ç®€åŒ–servletå¤æ‚çš„ç¨‹åºè¿‡ç¨‹</p>
<h3 id="JSPåŸºç¡€è¯­æ³•"><a href="#JSPåŸºç¡€è¯­æ³•" class="headerlink" title="JSPåŸºç¡€è¯­æ³•"></a>JSPåŸºç¡€è¯­æ³•</h3><h4 id="ä»£ç æ®µ"><a href="#ä»£ç æ®µ" class="headerlink" title="ä»£ç æ®µ"></a>ä»£ç æ®µ</h4><p>JSPå’ŒPHPç­‰å¯ä»¥åµŒå…¥åˆ°HTMLçš„è„šæœ¬è¯­è¨€ç±»ä¼¼ï¼Œéœ€è¦ç”¨ä¸€ä¸ªä»£ç æ®µåŒ…è£¹ä»£ç ã€‚<br>å…¶æ ¼å¼å¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;% code %&gt;</span><br></pre></td></tr></table></figure>
<p>åŒæ—¶åœ¨ä»£ç æ®µä¸­è¿˜å­˜åœ¨ç€æŒ‡ä»¤æ ‡ç­¾:Page,include,taglib<br>ä»–ä»¬çš„å®šä¹‰å’Œä½œç”¨å¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page ...... %&gt;    </span><br><span class="line">pageæŒ‡ä»¤ç”¨äºå®šä¹‰ç½‘é¡µçš„å„å±æ€§ï¼Œå¦‚&lt;%@ page import&#x3D;&quot;...&quot; %&gt; è¡¨ç¤ºè¦å¯¼å…¥å“ªäº›javaæ¨¡å—,&lt;%@ page language&#x3D;&quot;...&quot; %&gt;è¡¨ç¤ºJSPé¡µé¢æ‰€ç”¨çš„è¯­è¨€ï¼Œé»˜è®¤æ˜¯java</span><br><span class="line"></span><br><span class="line">&lt;%@ include file&#x3D;&quot;æ–‡ä»¶ç›¸å¯¹urlåœ°å€&quot; %&gt; è¡¨ç¤ºè¦åŒ…å«å“ªäº›å…¶ä»–æ–‡ä»¶ï¼Œå¯ä»¥åŒ…å«JSP,HTMLæˆ–txtç­‰æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">&lt;%@ taglib ......%&gt;  ä¸»è¦ç”¨äºç”¨æˆ·è‡ªå®šä¹‰æ ‡ç­¾ </span><br></pre></td></tr></table></figure>
<h4 id="åŠ¨ä½œå…ƒç´ "><a href="#åŠ¨ä½œå…ƒç´ " class="headerlink" title="åŠ¨ä½œå…ƒç´ "></a>åŠ¨ä½œå…ƒç´ </h4><p>ä¸æŒ‡ä»¤å…ƒç´ æ¯”è¾ƒç›¸ä¼¼ï¼Œä½†ä¸åŒçš„æ˜¯åŠ¨ä½œå…ƒç´ å¯ä»¥åŠ¨æ€çš„æ’å…¥ï¼Œä¸åƒæŒ‡ä»¤å…ƒç´ ä¸€æ ·ä¸€å¼€å¤´å°±ä¼šè¢«æ‰§è¡Œã€‚</p>
<p><img src="https://const27blog.oss-cn-beijing.aliyuncs.com/img/QQ%E6%88%AA%E5%9B%BE20210219152132.png" alt="QQæˆªå›¾20210219152132"></p>
<h4 id="ä¹å¤§å¯¹è±¡"><a href="#ä¹å¤§å¯¹è±¡" class="headerlink" title="ä¹å¤§å¯¹è±¡"></a>ä¹å¤§å¯¹è±¡</h4><p>JSPä¸­æœ‰ä¹å¤§å¯¹è±¡ç”¨äºå®ç°å„ç§æ“ä½œã€‚</p>
<p><img src="https://const27blog.oss-cn-beijing.aliyuncs.com/img/QQ%E6%88%AA%E5%9B%BE20210219152143.png" alt="QQæˆªå›¾20210219152143"></p>
<p>è‡³äºrequestå’Œresponseï¼Œè¿™ä¿©ç”¨çš„æ˜¯æœ€å¤šçš„æ˜¯ä»–ä»¬ï¼Œ<br>outå¯¹è±¡ä¸»è¦ç”¨äºåœ¨responseä¸­å†™å…¥è¾“å‡ºå†…å®¹ï¼Œ out.printlnæˆ–è€…out.printç”¨äºè¾“å‡ºå†…å®¹ï¼Œout.flushç”¨äºåˆ·æ–°è¾“å‡ºæµ,å…¶ä½™åœ¨æ–°æ‰‹é˜¶æ®µéƒ½ä¸å’‹ç”¨ã€‚</p>
<h4 id="ä¼ å‚å¤„ç†"><a href="#ä¼ å‚å¤„ç†" class="headerlink" title="ä¼ å‚å¤„ç†"></a>ä¼ å‚å¤„ç†</h4><ul>
<li><strong>getParameter():</strong> ä½¿ç”¨ request.getParameter() æ–¹æ³•æ¥è·å–è¡¨å•å‚æ•°çš„å€¼ã€‚</li>
<li><strong>getParameterValues():</strong> è·å¾—å¦‚checkboxç±»ï¼ˆåå­—ç›¸åŒï¼Œä½†å€¼æœ‰å¤šä¸ªï¼‰çš„æ•°æ®ã€‚ æ¥æ”¶æ•°ç»„å˜é‡ ï¼Œå¦‚checkboxç±»å‹</li>
<li>**getParameterNames():**è¯¥æ–¹æ³•å¯ä»¥å–å¾—æ‰€æœ‰å˜é‡çš„åç§°ï¼Œè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ª Enumerationã€‚</li>
<li>**getInputStream():**è°ƒç”¨æ­¤æ–¹æ³•æ¥è¯»å–æ¥è‡ªå®¢æˆ·ç«¯çš„äºŒè¿›åˆ¶æ•°æ®æµã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType&#x3D;&quot;text&#x2F;html;charset&#x3D;UTF-8&quot; language&#x3D;&quot;java&quot; %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;test jsp&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">your name is &lt;%&#x3D;request.getParameter(&quot;name&quot;)%&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>
<p><img src="https://const27blog.oss-cn-beijing.aliyuncs.com/img/QQ%E6%88%AA%E5%9B%BE20210219152207.png" alt="QQæˆªå›¾20210219152207"></p>
<p><img src="https://const27blog.oss-cn-beijing.aliyuncs.com/img/QQ%E6%88%AA%E5%9B%BE20210219152242.png" alt="QQæˆªå›¾20210219152242"></p>
<h3 id="cookie-amp-session-1"><a href="#cookie-amp-session-1" class="headerlink" title="cookie&amp;session"></a>cookie&amp;session</h3><h4 id="cookieï¼Œsessionåœ¨JSPé‡Œçš„è®¾ç½®ä¸servletå¦‚å‡ºä¸€è¾™"><a href="#cookieï¼Œsessionåœ¨JSPé‡Œçš„è®¾ç½®ä¸servletå¦‚å‡ºä¸€è¾™" class="headerlink" title="cookieï¼Œsessionåœ¨JSPé‡Œçš„è®¾ç½®ä¸servletå¦‚å‡ºä¸€è¾™"></a>cookieï¼Œsessionåœ¨JSPé‡Œçš„è®¾ç½®ä¸servletå¦‚å‡ºä¸€è¾™</h4><p>cookieå’Œsessionåœ¨jspçš„&lt;%%&gt;ä»£ç åŒºé‡Œè®¾ç½®ï¼Œè®¾ç½®æ–¹æ³•ä¸servletå¦‚å‡ºä¸€è¾™ï¼Œå› ä¸º&lt;%%&gt;ä»£ç åŒºé‡Œæœ¬èº«å°±æ˜¯è°ƒç”¨çš„javaä»£ç ï¼Œæ‰€ä»¥ä¸å†èµ˜è¿°</p>
<h1 id="RMI"><a href="#RMI" class="headerlink" title="RMI"></a>RMI</h1><h2 id="ä½•ä¸ºRMI"><a href="#ä½•ä¸ºRMI" class="headerlink" title="ä½•ä¸ºRMI"></a>ä½•ä¸ºRMI</h2><p>RMIï¼Œå³è¿œç¨‹æ–¹æ³•è°ƒç”¨ï¼Œå…è®¸è¿è¡Œåœ¨ä¸€ä¸ªJAVAè™šæ‹Ÿæœºè°ƒç”¨å¦ä¸€ä¸ªJAVAè™šæ‹Ÿæœºä¸Šçš„å¯¹è±¡çš„æ–¹æ³•.</p>
<h2 id="RMI-å®ç°ä¸€ä¸ªè¿œç¨‹æ¥å£"><a href="#RMI-å®ç°ä¸€ä¸ªè¿œç¨‹æ¥å£" class="headerlink" title="RMI:å®ç°ä¸€ä¸ªè¿œç¨‹æ¥å£"></a>RMI:å®ç°ä¸€ä¸ªè¿œç¨‹æ¥å£</h2><p>RMIçš„è¿œç¨‹æ¥å£ç”¨äºå…¶ä»–javaè™šæ‹Ÿæœºè¿œç¨‹è°ƒç”¨è¯¥æ¥å£ä¸‹çš„å¯¹è±¡çš„æ–¹æ³•.</p>
<h3 id="å®šä¹‰ä¸€ä¸ªè¿œç¨‹æ¥å£"><a href="#å®šä¹‰ä¸€ä¸ªè¿œç¨‹æ¥å£" class="headerlink" title="å®šä¹‰ä¸€ä¸ªè¿œç¨‹æ¥å£"></a>å®šä¹‰ä¸€ä¸ªè¿œç¨‹æ¥å£</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import java.rmi.Remote;   &#x2F;&#x2F;å¼•å…¥Remoteæ¥å£</span><br><span class="line">public interface IHello extends Remote&#123;  &#x2F;&#x2F;å®ç°ä¸€ä¸ªRemoteæ¥å£</span><br><span class="line">  public String sayHello(String name) throws java.rmi.RemoteException;</span><br><span class="line">&#x2F;&#x2F;è‹¥æ˜¯Remoteæ¥å£é‡ŒæŸä¸ªæ–¹æ³•æŠ›å‡ºRemoteExceptionå¼‚å¸¸,å°±æ„å‘³ç€è¿™æ˜¯ä¸€ä¸ªå¯ä»¥è¢«è¿œç¨‹è°ƒç”¨çš„æ–¹æ³•,ä½†ç›®å‰è¿™ä¸ªæ–¹æ³•è¿˜æœªè¢«å…·ä½“å®ç°.</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="è¿œç¨‹æ¥å£çš„å®ç°ç±»"><a href="#è¿œç¨‹æ¥å£çš„å®ç°ç±»" class="headerlink" title="è¿œç¨‹æ¥å£çš„å®ç°ç±»"></a>è¿œç¨‹æ¥å£çš„å®ç°ç±»</h3><p>åˆšåˆšæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªRemoteæ¥å£,ä½†æ˜¯ä»–çš„æ–¹æ³•è¿˜æœªå…·ä½“å®ç°.æˆ‘ä»¬å°±æ¥å®ç°è¿œç¨‹æ¥å£çš„å®ç°ç±»å§</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import java.rmi.RemoteException;</span><br><span class="line">import java.rmi.server.UnicastRemoteObject;</span><br><span class="line">public class HelloImpl extends UnicastRemoteObject implements IHello&#123; &#x2F;&#x2F;å®šä¹‰ä¸€ä¸ªè¿œç¨‹æ¥å£å®ç°ç±»,æ³¨æ„è¿™ä¸ªè¿œç¨‹å®ç°ç±»å¿…é¡»ç»§æ‰¿è‡ªUnicastRemoteObject,ä¸ç„¶æœåŠ¡ç«¯ä¸ä¼šå‘é€è¯¥ç±»çš„å¯¹è±¡çš„å­˜æ ¹(stub(ä¸‹æ–‡è®²))</span><br><span class="line">    protected HelloImpl throws RemoteException&#123;&#x2F;&#x2F;å¿…é¡»è¦æœ‰ä¸€ä¸ªæŠ›å‡ºRemoteExceptionå¼‚å¸¸çš„æ˜¾ç¤ºæ„é€ å‡½æ•°</span><br><span class="line">        super();</span><br><span class="line">    &#125;</span><br><span class="line">    public String sayHello(String name) throws RemoteException&#123;</span><br><span class="line">        return &quot;Hello&quot;+name;    &#x2F;&#x2F;å®šä¹‰å®ç°ç±»æ–¹æ³•çš„å…·ä½“ä»£ç </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ä¸¤å°JVMé€šè®¯çš„ç¬¬ä¸€æ­¥-RMI-Registry"><a href="#ä¸¤å°JVMé€šè®¯çš„ç¬¬ä¸€æ­¥-RMI-Registry" class="headerlink" title="ä¸¤å°JVMé€šè®¯çš„ç¬¬ä¸€æ­¥:RMI Registry"></a>ä¸¤å°JVMé€šè®¯çš„ç¬¬ä¸€æ­¥:RMI Registry</h2><p>ä½•ä¸ºRMI Registry<br>å¯ä»¥ç†è§£ä¸ºéƒ¨ç½²åœ¨è¢«è¿œç¨‹è°ƒç”¨çš„JAVAè™šæ‹Ÿæœºä¸Šçš„ä¸€ä¸ªåº”ç”¨,ç”¨äºå°†stubç»‘å®šåˆ°RegistryæœåŠ¡çš„URLä¸Šã€‚</p>
<p>æœåŠ¡ç«¯ç»‘å®šstubåˆ°æŒ‡å®šurl</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">java.rmi.Naming.rebind(&quot;rmi:&#x2F;&#x2F;localhost:1099&#x2F;hello&quot;, hello);   </span><br><span class="line">&#x2F;&#x2F;å¦‚æ­¤å¤„å°±æ˜¯æŠŠhelloè¿™ä¸ªå¯¹è±¡ç»‘å®šåœ¨äº†rmi:&#x2F;&#x2F;localhost:1099&#x2F;helloè¿™ä¸ªURL</span><br></pre></td></tr></table></figure>
<p>éšåå®¢æˆ·ç«¯æƒ³è¦è¿œç¨‹è°ƒç”¨helloè¿™ä¸ªå¯¹è±¡çš„æ–¹æ³•æ—¶ï¼Œå°±éœ€</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">IHello hello &#x3D; (IHello) Naming.lookup(&quot;rmi:&#x2F;&#x2F;localhost:1099&#x2F;hello&quot;);</span><br><span class="line">&#x2F;&#x2F;æ­¤åˆ»å®¢æˆ·ç«¯æŸ¥æ‰¾å‡ºäº†helloå¯¹è±¡çš„stubæ‰€åœ¨url,æœåŠ¡ç«¯è¿”å›helloå¯¹è±¡çš„Stub</span><br><span class="line">&#x2F;&#x2F;æ­¤æ—¶çš„æ•°æ®ç±»å‹ä¼¼ä¹å¿…é¡»æ˜¯æ¥å£ç±»</span><br></pre></td></tr></table></figure>
<p><img src="https://const27blog.oss-cn-beijing.aliyuncs.com/img/QQ%E6%88%AA%E5%9B%BE20210219152319.png" alt="QQæˆªå›¾20210219152319"></p>
<h2 id="Stubå’ŒSkeleton"><a href="#Stubå’ŒSkeleton" class="headerlink" title="Stubå’ŒSkeleton"></a>Stubå’ŒSkeleton</h2><p><img src="https://const27blog.oss-cn-beijing.aliyuncs.com/img/QQ%E6%88%AA%E5%9B%BE20210219152334.png" alt="QQæˆªå›¾20210219152334"></p>
<p>ç”±ä¸Šæ–‡å¯çŸ¥å½“å®¢æˆ·æœºè¿œç¨‹è°ƒç”¨ä¸€ä¸ªå¯¹è±¡æ—¶,è¿”å›çš„å…¶å®ä¸æ˜¯å¯¹è±¡æœ¬èº«,è€Œæ˜¯stub.<br>ä½ å¯ä»¥ç†è§£stubä¸ºä¸€ä¸ªä¸­ç»§ç«™ï¼Œå½“å®¢æˆ·æœºè°ƒç”¨è¯¥å¯¹è±¡æŸä¸ªæ–¹æ³•æ—¶,å®é™…ä¸Šæ˜¯é€šè¿‡stubä»¥socketçš„æ–¹å¼å‘æœåŠ¡å™¨ç«¯çš„skeletonå‘é€åºåˆ—åŒ–å¤„ç†çš„æ–¹æ³•åå’Œå‚æ•°ï¼ˆskeletonå¯ä»¥ç†è§£ä¸ºæœåŠ¡å™¨ç«¯ä¸Šçš„çœŸå®å¯¹è±¡)<br>æœåŠ¡ç«¯çš„skeletionååºåˆ—åŒ–å¾—åˆ°çš„æ–¹æ³•åå’Œå‚æ•°å¹¶å¤„ç†åå†ä»¥socketçš„æ–¹å¼æŠŠè¯¥æ–¹æ³•ç”Ÿæˆçš„ç»“æœä¼ å›stub,stubå†æŠŠæ•°æ®è¿”å›ç»™å®¢æˆ·æœº</p>
<h2 id="ä»£ç å®ç°è¿œç¨‹è°ƒç”¨"><a href="#ä»£ç å®ç°è¿œç¨‹è°ƒç”¨" class="headerlink" title="ä»£ç å®ç°è¿œç¨‹è°ƒç”¨"></a>ä»£ç å®ç°è¿œç¨‹è°ƒç”¨</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">æœåŠ¡å™¨ç«¯</span><br><span class="line">import java.rmi.Remote;</span><br><span class="line">import java.rmi.registry.*;</span><br><span class="line">import java.rmi.RemoteException;</span><br><span class="line">import java.rmi.server.UnicastRemoteObject;</span><br><span class="line"></span><br><span class="line">interface Hello extends Remote&#123;</span><br><span class="line">    public String sayHello(String name) throws RemoteException;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class HelloImpl extends UnicastRemoteObject implements Hello&#123;</span><br><span class="line">    protected HelloImpl()throws RemoteException &#123;</span><br><span class="line">        super();</span><br><span class="line">    &#125;</span><br><span class="line">    public String sayHello(String name) throws RemoteException&#123;</span><br><span class="line">        return &quot;Hello&quot;+name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">------------------------------------------------------------------</span><br><span class="line">public class Server&#123;</span><br><span class="line">    public static void main(String[] args)&#123;</span><br><span class="line">    try&#123;&#x2F;&#x2F;å¿…é¡»æœ‰try..catch</span><br><span class="line">        Hello hello &#x3D; new HelloImpl();  &#x2F;&#x2F;ä¼¼ä¹æ•°æ®ç±»å‹åªèƒ½æ˜¯æ¥å£ç±»</span><br><span class="line">        LocateRegistry.createRegistry(1080);  &#x2F;&#x2F;å°†RMI registryçš„ç«¯å£è®¾ç½®ä¸º1080</span><br><span class="line">        java.rmi.Naming.rebind(&quot;rmi:&#x2F;&#x2F;localhost:1080&#x2F;hello&quot;, hello);&#x2F;&#x2F;</span><br><span class="line">å°†helloè¿™ä¸ªæ–¹æ³•å¯¹è±¡ç»‘å®šåœ¨æŒ‡å®šurlä¸Š,rmiåè®®</span><br><span class="line">        System.out.print(&quot;OK&quot;);</span><br><span class="line">    &#125;catch(Exception e)&#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">å®¢æˆ·æœºç«¯</span><br><span class="line">import java.rmi.Remote;</span><br><span class="line">import java.rmi.registry.*;</span><br><span class="line">import java.rmi.RemoteException;</span><br><span class="line">import java.rmi.server.UnicastRemoteObject;</span><br><span class="line">import java.rmi.Naming;</span><br><span class="line">public class Client&#123;</span><br><span class="line">    public static void main(String[] args)&#123;</span><br><span class="line">        try&#123;&#x2F;&#x2F;å¿…é¡»æœ‰try..catch</span><br><span class="line">        Hello hello_client &#x3D; (Hello) Naming.lookup(&quot;rmi:&#x2F;&#x2F;localhost:1080&#x2F;hello&quot;);  &#x2F;&#x2F;æœåŠ¡å™¨ç«¯ç»‘å®šåœ¨è¯¥urlçš„å¯¹è±¡æ•°æ®ç±»å‹æ˜¯Helloï¼Œæ‰€ä»¥è¿™é‡Œçš„æ•°æ®ç±»å‹ä¹Ÿæ˜¯Hello</span><br><span class="line">        System.out.print(hello_client.sayHello(&quot;fuck&quot;));</span><br><span class="line">        &#125;catch(Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç»“æœ</p>
<p><img src="https://const27blog.oss-cn-beijing.aliyuncs.com/img/QQ%E6%88%AA%E5%9B%BE20210219152343.png" alt="QQæˆªå›¾20210219152343"></p>

      
       <hr><span style="font-style: italic;color: gray;"> è½¬è½½è¯·æ³¨æ˜æ¥æºï¼Œæ¬¢è¿å¯¹æ–‡ç« ä¸­çš„å¼•ç”¨æ¥æºè¿›è¡Œè€ƒè¯ï¼Œæ¬¢è¿æŒ‡å‡ºä»»ä½•æœ‰é”™è¯¯æˆ–ä¸å¤Ÿæ¸…æ™°çš„è¡¨è¾¾ã€‚å¯ä»¥åœ¨ä¸‹é¢è¯„è®ºåŒºè¯„è®ºï¼Œä¹Ÿå¯ä»¥é‚®ä»¶è‡³ jaytp@qq.com </span>
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">ğŸ’°</a>
</p>






    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    Â©2016-2020 Yelog
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="åˆ‡æ¢å…¨å± å¿«æ·é”® s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">Ã—</a>
    <div class="shang_tit">
        <p>Help us with donation</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="æ‰«ç æ”¯æŒ">
            <img src="/img/weixin.jpg" class="weixin" title="æ‰«ç æ”¯æŒ">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">alipay</label></span><span><label><input type="radio" name="pay" value="weixin">weixin</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*æ¸²æŸ“å¯¹åº”çš„è¡¨æ ¼æ ·å¼*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*æ¸²æŸ“æ‰“èµæ ·å¼*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*é«˜äº®ä»£ç å—è¡Œå·*/
        

        /*è®¿é—®æ•°é‡*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*ä»£ç é«˜äº®ï¼Œè¡Œå·å¯¹é½*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*æ‰“èµé¡µé¢éšè—ä¸å±•ç¤º*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--åŠ å…¥è¡Œå·çš„é«˜äº®ä»£ç å—æ ·å¼-->

<!--è‡ªå®šä¹‰æ ·å¼è®¾ç½®-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*åˆ—è¡¨æ ·å¼*/
    

    /* èƒŒæ™¯å›¾æ ·å¼ */
    
    


    /*å¼•ç”¨å—æ ·å¼*/
    

    /*æ–‡ç« åˆ—è¡¨èƒŒæ™¯å›¾*/
    

    
</style>







</html>
